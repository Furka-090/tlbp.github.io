<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr" xml:lang="tr">
  <head>
    <title>5. Düzenli İfadeler</title>
    <link rel="stylesheet" type="text/css" href="../../../style/nav.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V-special (derived from DocBook XSL v1.79.1 for Turkish Linux Documentation Project by Nilgün Belma Bugüner - nilgun (at) tlbp.org.tr)" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/images/belgeler-logo.png" />
    <meta name="robots" content="index, follow" />
  </head>
  <body>
    <header>
      <div class="navbar">
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('ruby-ug-strings.html')">Önceki</button>
          <div class="dropdown-content">4. Dizgeler</div>
        </div>
        <div style="width:34%" class="dropdown">
          <button class="dropbtn">Yukarı</button>
          <div class="dropdown-content">
            <button type="button" class="dropbtn" onclick="window.location.assign('/index.html')">Baş Sayfa</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('/KiTAPLIK/index.html')">Kitaplık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('ruby-ug.html')">Üst Başlık</button>
          </div>
        </div>
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('ruby-ug-arrays.html')">Sonraki</button>
          <div class="dropdown-content">6. Diziler</div>
        </div>
      </div>
    </header>
    <section class="mainpage">
      <div class="crumbs">
        <p>  </p>
      </div>
      <section class="chapter" id="ruby-ug-regex">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title">5. Düzenli İfadeler</h1>
            </div>
          </div>
        </div>
        <p>
   Şimdi daha ilginç bir yazılım geliştirelim. Bu sefer bir dizgenin verilen bir <em class="wordasword">şablona</em> uyup uymadığını araştıralım:
  </p>
        <p>
   Bu şablonlar özel anlamları olan bazı karakterler ve karakter birleşimlerinden oluşur:
  </p>
        <div class="table">
          <div class="table-title">Tablo 5.1. Düzenli ifade işleçleri ve anlamları</div>
          <div class="table-contents">
            <table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; ">
              <colgroup>
                <col style="width: .1; text-align: left; " />
                <col style="width: .9; text-align: left; " />
              </colgroup>
              <tbody>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>[]</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       aralık belirtimi (Örn, <code class="literal">[a-z]</code>, <code class="literal">a</code> ile <code class="literal">z</code> arasındaki bir harfi belirtir.)
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\w</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       harf ya da rakam; <code class="literal">[0-9A-Za-z]</code> ile aynı
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\W</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">ne harf ne de rakam</td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\s</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       boşluk karakteri; <code class="literal">[ \t\n\r\f]</code> ile aynı
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\S</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">boşluklar dışında herhangi bir karakter</td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\d</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">rakam;  <code class="literal">[0-9]</code> ile aynı</td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\D</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">rakamlar dışında herhangi bir karakter</td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\b</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       tersbölü (0x08) (sadece herhangi bir aralık belirtilmişse)
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\b</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       kelime içi sınır belirtimi (aralık belirtiminin dışındayken)
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>\B</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">kelime dışı sınır belirtimi</td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>*</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       öncelediği ifadeyi sıfır ya da daha fazla tekrarlar
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>+</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       öncelediği ifadeyi bir ya da daha fazla tekrarlar
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>{m,n}</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       öncelediği ifadeyi en az m en çok n kez tekrarlar
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>?</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">
       öncelediği ifadeyi en fazla bir kere tekrarlar; <code class="literal">{0,1}</code> ile aynı
      </td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
                    <span class="command">
                      <strong>|</strong>
                    </span>
                  </td>
                  <td style="text-align: left; border-bottom: 1px solid ; ">önündeki veya ardındaki ifade eşleşebilir</td>
                </tr>
                <tr>
                  <td style="text-align: left; border-right: 1px solid ; ">
                    <span class="command">
                      <strong>()</strong>
                    </span>
                  </td>
                  <td style="text-align: left; ">gruplama işleci</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <br class="table-break" />
        <p>
   Bu ilginç lügat genelde <em class="wordasword">düzenli ifadeler</em> olarak anılır. Ruby'de, Perl'de de olduğu gibi çift tırnak koymak yerine ters bölü işareti kullanılır. Eğer daha önce düzenli ifadelerle karşılaşmadıysanız muhtemelen <em class="emphasis">düzenli</em> hiçbir şey göremeyeceksiniz ancak alışmak için biraz zamana ihtiyacınız olduğunu unutmayın. Düzenli ifadeler, metin dizgeleri üzerinde arama, eşleştirme ve bu gibi diğer işlerle uğraşırken sizi baş ağrısından (ve satırlarca koddan) kurtaran gözle görülür bir güce sahiptir.
  </p>
        <p>
   Örneğin aşağıdaki tanıma uyan bir dizge aradığımızı farzedelim:
   "Küçük f harfiyle başlayan, ardından bir büyük harf gelen bundan sonra küçük harf haricinde herhangi bir karakterle devam eden" bir dizge.
   Eğer deneyimli bir C yazılımcısıysanız muhtemelen şimdiden kafanızca binlerce satır kod yazmıştınız, öyle değil mi? Kabul edin, kendinize güçlükle yardım edebilirsiniz. Ancak Ruby'de dizgeyi sadece  şu düzenli ifadeyle sınamanız yeterli olacaktır: <span class="command"><strong>/^f[A-Z](^[a-z])*$/</strong></span>.
  </p>
        <p>
   Açılı ayraçlar arasında onaltılık sayıya ne dersiniz? Hiç sorun değil.
  </p>
        <pre class="screen eval">
ruby&gt;<em class="emphasis evalinput">def chab(s)</em>   # "açılı ayraçlar onaltılık sayı içerir"
    |    <em class="emphasis evalinput">(s =~ /&lt;0(x|X)(\d|[a-f]|[A-F])+&gt;/) != nil</em>
    | <em class="emphasis evalinput">end</em>
   <em class="emphasis evaloutput">nil</em>
ruby&gt; <em class="emphasis evalinput"> chab "Bu değil."</em>
   <em class="emphasis evaloutput">false</em>
ruby&gt; <em class="emphasis evalinput"> chab "Belki bu? {0x35}"</em>    # kaşlı ayraçlar kullanılmamalıydı
   <em class="emphasis evaloutput">false</em>
ruby&gt; <em class="emphasis evalinput"> chab "Ya da bu? &lt;0x38z7e&gt;"</em>    # onaltılık sayı değil
   <em class="emphasis evaloutput">false</em>
ruby&gt; <em class="emphasis evalinput"> chab "Tamam, bu: &lt;0xfc0004&gt;."</em>
   <em class="emphasis evaloutput">true</em>
</pre>
        <p>
   Düzenli ifadeler başlangıçta alengirli gibi gözükse de kısa süre içinde istediğinizi yapabilme konusunda yol katedeceksiniz.
  </p>
        <p>
   Aşağıda düzenli ifadeleri anlamanıza yarayacak küçük bir yazılım bulunuyor. <code class="filename">regx.rb</code> olarak kaydedin ve komut satırına <span class="command"><strong>ruby regx.rb</strong></span> yazarak çalıştırın.
  </p>
        <pre class="screen">
#ANSI uçbirim gerektirir!

st = "\033[7m"
en = "\033[m"

while TRUE
  print "str&gt; "
  STDOUT.flush
  str = gets
  break if not str
  str.chop!
  print "pat&gt; "
  STDOUT.flush
  re = gets
  break if not re
  re.chop!
  str.gsub! re, "#{st}\\&amp;#{en}"
  print str, "\n"
end
print "\n"
</pre>
        <p>
   Yazılım bir tanesi dizge diğeri de düzenli ifade olmak üzere iki girdi alır. Dizge verilen düzenli ifade ile sınanır ve bütün uyuşan sonuçlar listelenir. Şu an ayrıntılara ilgilenmeyin, bu kodun analizini daha sonra yapacağız.
  </p>
        <pre class="screen eval">
str&gt; foobar
pat&gt; ^fo+
<em class="emphasis regxoutput">foo</em>bar
~~~
</pre>
        <p>
   Programın çıktısında gördüğünüz <code class="literal">~~~</code> ile işaretli parça çıktıda artalan ve önalan renkleri yer değiştirmiş olarak çıktılanır.
  </p>
        <p>
   Bir kaç girdi daha deneyelim.
  </p>
        <pre class="screen eval">
str&gt; abc012dbcd555
pat&gt; \d
abc<em class="emphasis regxoutput">012</em>dbcd<em class="emphasis regxoutput">555</em>
   ~~~    ~~~
</pre>
        <p>
   Eğer şaşırdıysanız sayfanın başındaki tabloya tekrar göz atabilirsiniz: <span class="command"><strong>\d</strong></span>'nin <span class="command"><strong>d</strong></span> karakteriyle hiçbir bağlantısı yoktur, sadece bir rakamı eşleştirmekte kullanılır.
  </p>
        <p>
   Eğer istediğimiz kriterlere uygun birden fazla yol varsa ne olur?
  </p>
        <pre class="screen eval">
str&gt; foozboozer
pat&gt; f.*z
<em class="emphasis regxoutput">foozbooz</em>er
~~~~~~~~
</pre>
        <p>
   Düzenli ifadeler olabilecek en uzun dizgeyi döndürdüğü için <span class="command"><strong>fooz</strong></span>'un yerine <span class="command"><strong>foozbooz</strong></span> eşleştirildi.
  </p>
        <p>
   Aşağıda iki nokta üstüste işaretiyle sınırlandırılmış bir zaman alanı bulunuyor:
  </p>
        <pre class="screen eval">
str&gt; Wed Feb  7 08:58:04 JST 1996
pat&gt; [0-9]+:[0-9]+(:[0-9]+)?
Wed Feb  7 <em class="emphasis regxoutput">08:58:04</em>  JST 1996
           ~~~~~~~~
</pre>
        <p>
   "<span class="command"><strong>=~</strong></span>" işleci bulduğu dizgenin konumunu döndüren, aksi halde <span class="command"><strong>nil</strong></span> döndüren düzenli ifadedir.
  </p>
        <pre class="screen eval">
ruby&gt; <em class="emphasis evalinput">"abcdef" =~ /d/</em>
   <em class="emphasis evaloutput">3</em>
ruby&gt; <em class="emphasis evalinput">"aaaaaa" =~ /d/</em>
   <em class="emphasis evaloutput">nil</em>
</pre>
      </section>
      <footer>
        <div align="center" class="footer">
          <small>Bir <a href="http://belgeler.org.tr/">Linux Kitaplığı</a> Sayfası</small>
        </div>
      </footer>
    </section>
  </body>
</html>
