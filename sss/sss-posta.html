<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="tr" xml:lang="tr">
  <head>
    <title>9.3. Posta</title>
    <meta name="generator" content="DocBook XSL Stylesheets V-special (derived from DocBook XSL v1.79.1 for Turkish Linux Documentation Project by Nilgün Belma Bugüner - nilgun (at) tlbp.org.tr)"/>
    <link rel="prev" href="sss-ftp.html" title="9.2. FTP"/>
    <link rel="next" href="sss-web.html" title="9.4. Web"/>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="/style/belgeler.css"/>
    <link rel="stylesheet" type="text/css" href="/style/nav.css"/>
  </head>
  <body>
    <header>
      <div class="navbar">
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('sss-ftp.html')">Önceki</button>
          <div class="dropdown-content">9.2. FTP</div>
        </div>
        <div style="width:34%" class="dropdown">
          <button class="dropbtn">Yukarı</button>
          <div class="dropdown-content">
            <button type="button" class="dropbtn" onclick="window.location.assign('/index.html')">Baş Sayfa</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('/KiTAPLIK/index.html')">Kitaplık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('sss.html')">Ana Başlık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('sss-yonetim.html')">Üst Başlık</button>
          </div>
        </div>
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('sss-web.html')">Sonraki</button>
          <div class="dropdown-content">9.4. Web</div>
        </div>
      </div>
    </header>
    <section class="mainpage">
      <div class="crumbs">
        <p>  </p>
      </div>
      <section xml:lang="tr" class="sect1" id="sss-posta">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">9.3. Posta</h2>
            </div>
          </div>
        </div>
        <div class="qandaset">
          <ol class="qandaset">
            <li>
              <dl>
                <dt class="question">
                  <p>
     Sendmail ve Qmail'de kuyrukta bekleyen postaları nasıl görebilirim?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Alper Oğuz</strong></span>
    </p>
                  <p>mailq</p>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     Qmail smtp bağlantılarında bir süre bekliyor. Ne yapabilirim?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Serhat Selahattin Umar</strong></span>
    </p>
                  <p>
     Özellikle Qmail bir güvenlik duvarı arkasında ve güvenlik duvarı
     tarafından <code class="literal">ident</code> paketleri engellenmiş ise bu bekleme
     problemi oluşabiliyor.
    </p>
                  <p>
     <code class="literal">tcpserver</code> ile <code class="literal">qmail-smtpd</code> öntanımlı
     şekilde çalıştırıldığında karşı makinaya <code class="literal">ident lookup</code>
     yapıyor ve bu genelde smtp bağlantılarında bir süre beklemeye yol açıyor,
     bunu engellemek için:
    </p>
                  <p>
     <code class="literal">/var/qmail/supervise/qmail-smtpd/run</code>dosyasında
     <code class="literal">tcpserver</code> ile ilgili olan satıra <code class="literal">-R</code>
     seçeneğini eklemeniz gerekiyor, öntanımlı olarak <code class="literal">-r</code>
     yani <code class="literal">ident lookup</code> etkin oluyor. Bunu
     <code class="literal">-R</code>  ile değiştirerek <code class="literal">ident lookup</code>
     yapmamasını sağlayabilirsiniz.
    </p>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     Qmail'de gelen bir postanın bir kopyasının başka bir hesaba da gitmesini
     nasıl sağlarım?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Devrim Sipahi</strong></span>
    </p>
                  <p>
     <code class="literal">.qmail</code> dosyası içine,
     <code class="literal">&amp;isim@example.com</code> veya aynı alan adı altında ise, <code class="literal">&amp;isim</code> yazmanız yeterlidir.
  </p>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     Qmail'de gelen ve giden tüm postaların kopyalarının bir hesaba
     gönderilmesini nasıl sağlarım?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>M. Umut Atasever</strong></span>
    </p>
                  <p>
     Qmail kaynak kodlarında, <code class="literal">extra.h</code> dosyasında aşağıdaki
     değişiklikleri yapıp qmail'i tekrar derlemeniz gerekiyor. Gelen ve giden
     tüm postaların bir kopyası <code class="literal">log</code> kullanıcısına
     gidecektir.
    </p>
                  <pre class="screen">#define QUEUE_EXTRA "Tlog/0"
#define QUEUE_EXTRALEN 5
</pre>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     SMTP, POP3 nedir? Her birine tek bir yazılım bakmıyor mu?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Enver ALTIN</strong></span>
    </p>
                  <p>
     Öncelikle posta hizmeti vereceğiniz makinanın DNS kayıtlarının doğru
     olarak yapılmış olması gerekmektedir. Posta sunucularındaki kavramları
     açıklayacak olursak:
    </p>
                  <div class="variablelist">
                    <dl class="variablelist">
                      <dt>
                        <span class="term">SMTP sunucusu (sendmail, qmail, postfix)</span>
                      </dt>
                      <dd>
                        <p>
        MTA (Mail Transfer Agent - Eposta Aktarım Aracısı) olarak
        adlandırılır ve SMTP protokolü kullanır, temel olarak 2 işlemi yerine
        getirir:
       </p>
                        <div class="orderedlist">
                          <ol class="orderedlist" type="1">
                            <li class="listitem">
                              <p>
          Yerel kullanıcılar tarafından hazırlanmış metinlerin iletilmesi.
         </p>
                            </li>
                            <li class="listitem">
                              <p>
          Eposta alınması ve ilgili kullanıcıya ait eposta havuzuna
          yerleştirilmesi.
         </p>
                            </li>
                          </ol>
                        </div>
                      </dd>
                      <dt>
                        <span class="term">POP3 sunucusu</span>
                      </dt>
                      <dd>
                        <p>
        Kullanıcıların, POP3 protokolü ile kendilerine ait eposta havuzu
        içerisindeki epostaları almalarını sağlar. Genellikle
        <span class="command"><strong>inetd</strong></span>/<span class="command"><strong>xinetd</strong></span>  tarafından,
        herhangi bir kullanıcı, TCP port 110'a bağlandığı anda otomatik
        olarak çalıştırılır.
       </p>
                        <p>
        Bu nedenle, posta gönderirken SMTP protokolünü, posta alırken POP3
        protokolünü kullanıyoruz. Birbirinden bağımsız ve küçük parçalardan
        oluşan bu tasarımın çeşitli avantajları var:
       </p>
                        <div>
                          <ul class="simplelist">
                            <li class="member">Daha az bellek, işlemci ve disk alanı kullanımı</li>
                            <li class="member">Daha yüksek performans</li>
                            <li class="member">Ölçeklenebilirlik</li>
                            <li class="member">Standartlara uyumluluk</li>
                          </ul>
                        </div>
                      </dd>
                    </dl>
                  </div>
                  <p>
     SMTP sunucusu olarak kullanılan sistemde kabuk sahibi bir kullanıcı için
     durum yine benzer. Kullanıcı, kendisine ait eposta havuzundaki iletilere
     bir MUA (Mail User Agent - Eposta Kullanıcı Aracısı -&gt; Eposta
     İstemcisi)  kullanarak (<code class="literal">pine, mutt, kmail</code> vb.)
     erişebilir ve yönetebilir; <code class="literal">fetchmail</code> adlı yazılımı
     kullanarak bir başka sunucu üzerinde bulunan iletilerini POP3 protokolü
     ile yerel sistemde kendisine ait eposta havuzuna aktarabilir, bu yolla
     bir eposta istemcisi kullanarak bunları da yönetebilir.
    </p>
                  <p>
     Kullanıcı bir posta göndermek istediğinde ileti metni yereldeki sendmail
     uygulamasına teslim edilir ve iletinin alıcıya ulaştırılması artık
     Sendmail'in işidir. Sendmail, alıcı adresin @ işaretinin sağ tarafındakı
     alan adına bakar, DNS ile bu adresin MX (Mail Exchanger - Eposta Alıcı ve
     Gönderici) kaydını bulur ve bu adresteki SMTP sunucusuna bağlanır,
     iletiyi teslim eder. Alıcı SMTP sunucu, ileti metnini ilgili kullanıcıya
     ait eposta havuzu içerisine ekler ve iletim işlemi tamamlanır.
    </p>
                  <p>
     Modern SMTP sunucuları (sendmail, qmail, postfix, Microsoft Exchange)
     gönderilen iletiler uzerinde çeşitli denetimler yapılmasına ve posta
     gönderme işleminin her aşamasının izlenebilmesine olanak sağlayabilmek
     için birçok "ince ayar" içerirler ve bu noktada işler biraz kafa
     karıştırıcı hale gelir (spam denetimi, gönderilecek iletilerin alan
     adlarının sınırlanması, gönderen kullanıcıların sınırlanması, ileti
     içeriğinin filtrelenmesi vb).
    </p>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     Kullanıcılarım "550 relaying denied" hatası alıyor. Sebebi nedir?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Barış Şimşek</strong></span>
    </p>
                  <p>
     Yeni sendmail'ler geçerli ayar olarak kendi üzerinden eposta göndermeyi
     her yere yasaklar. Birilerinin sizin posta sunucunuz üzerinden eposta
     göndermesini istiyorsanız o kişinin IP'sine yetki vermeniz gerekir. Bu
     dosya <code class="literal">sendmail.cf</code> içerisinde
    </p>
                  <pre class="screen">Kaccess hash -o /etc/mail/access</pre>
                  <p>
     şeklinde bir satırda belirtilen dosyadır. Benim posta sunucumda bu dosya
     <code class="literal">/etc/mail/access</code>'dir. Bu dosyaya relay (gönderme
     yetkisi) vermek istediğiniz IP'yi ekliyorsunuz. Şu şekilde:
    </p>
                  <pre class="screen">192.168.0.123 RELAY</pre>
                  <p>
     Bunu yaptıktan sonra aşağıdaki komut ile erişim veri tabanınızı
     güncelleyin:
    </p>
                  <pre class="screen"># <strong class="userinput"><code>makemap hash /etc/mail/access &lt; /etc/mail/access</code></strong>
</pre>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     Eposta sunucumun relay'e izin verip vermediğini nasıl sınayabilirim?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Nilgün Belma Bugüner</strong></span>
    </p>
                  <p>
     Posta sunucunuzun hizmet verdiği makineden
     <code class="literal">telnet relay-test.mail-abuse.org</code> şeklinde,
     relay-test.mail-abuse.org'a bir telnet bağlantısı yaparsanız, sunucunuz
     relay ile ilgili sınamadan geçirilir ve sınama sonuçlarını
     görebilirsiniz. Sonuç olumsuz bile olsa, bu işlem sunucunuzun
     karalistelere alınması gibi bir sonuç doğurmayacaktır. Bu bakımdan relay
     ayarları düzgün yapılmamış bir sunucuyla karalistelere girmemek için bu
     sınamayı sunucunuzu hizmete alır almaz yapmanız yararınıza olacaktır.
    </p>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     Qmail'de belli bir alan adından ya da belli bir adresten gelen postaları
     engelleyebilir miyim?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Muhammed Soyer</strong></span>,
     <span class="emphasis"><strong>Özgür Özaslan</strong></span>
    </p>
                  <p>
     <code class="literal">/var/qmail/control/badmailfrom</code> dosyasına (yoksa
     oluşturun) <code class="literal">xxx.dom</code> şeklinde engellemek istediğiniz
     alan adlarını ya da eposta adreslerini altalta yazarak bunu
     yapabilirsiniz.
    </p>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     TTNET'den linux altında mail gönderemiyorum.
   </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Mehmet Kızılsakal</strong></span>
    </p>
                  <p>
     TTNET smtp'de kimlik kanıtlaması gerektiriyor. Yani eposta yollamak için
     kullanıcı adı ve parola istiyor. SMTP kimlik kanıtlamasını destekleyen
     bir eposta istemcisi işinizi görür. Örneğin: Sylpheed (<a class="link" href="http://sylpheed/good-day.net/" target="_top">http://sylpheed/good-day.net/</a>) ya da KDE ile gelen KMail
     kullanılabilir.
    </p>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     Amavis Nedir?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Barış Şimşek</strong></span>
    </p>
                  <p>
     Amavis, mail sunucu yazılımınız (Sendmail, QMail, Postfix, Exim ...) ile
     tümleşik çalışan ve virüs tarayıcıları kullanabilen bir MTA (Mail
     Transfer Agent - Eposta Aktarım Aracısı) dır. Mcafee, Antivir, Sophos,
     AVP gibi pek çok popüler tarayıcıyı aynı epostayı taramak için
     kullanabiliyor.
    </p>
                </dd>
              </dl>
            </li>
            <li>
              <dl>
                <dt class="question">
                  <p>
     Pine'da POP hesabımı nasıl kullanabilirim?
    </p>
                </dt>
                <dd class="answer">
                  <p>
     Yanıtlayan: <span class="emphasis"><strong>Doruk FİŞEK</strong></span>
    </p>
                  <p>
     <code class="filename">.pinerc</code> dosyanızda <code class="literal">inbox-path</code>
     satırını bularak aşağıdaki hale getirin:
    </p>
                  <pre class="screen">inbox-path={mail.alanadi.com/POP3}inbox</pre>
                  <p>Ya da konsolda komut satırından</p>
                  <pre class="screen">$ <strong class="userinput"><code>pine -f {mail.alanadi.com/pop3}</code></strong></pre>
                  <p>komutunu verin.</p>
                </dd>
              </dl>
            </li>
          </ol>
        </div>
      </section>
    </section>
    <footer/>
  </body>
</html>
