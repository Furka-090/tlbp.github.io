<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Bir kök dosya sisteminin oluşturulması</title>
    <link rel="stylesheet" type="text/css" href="docbook.css"/>
    <link rel="stylesheet" type="text/css" href="belgeler.css"/>
    <meta name="generator" content="DocBook XSL Stylesheets V-special(derived from DocBook XSL v1.79.1 for Turkish Linux Documentation Project by Nilgün Belma Bugüner - nilgun (at) tlbp.gen.tr)"/>
    <link rel="prev" href="bootdisk-howto_bootproc.xhtml" title="Açılış disketleri ve önyükleme süreci"/>
    <link rel="next" href="bootdisk-howto_choosingkernel.xhtml" title="Çekirdek Seçimi"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>
  <body>
    <header>
      <div class="topbar navbar">
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('bootdisk-howto_bootproc.xhtml')">Önceki</button>
          <div class="dropdown-content">Açılış disketleri ve önyükleme süreci</div>
        </div>
        <div style="width:34%" class="dropdown">
          <button class="dropbtn">Yukarı</button>
          <div class="dropdown-content">
            <button type="button" class="dropbtn" onclick="window.location.assign('/index.xhtml')">Baş Sayfa</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('/kitaplik/index.xhtml')">Kitaplık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('bootdisk-howto.xhtml')">Ana Başlık</button>
          </div>
        </div>
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('bootdisk-howto_choosingkernel.xhtml')">Sonraki</button>
          <div class="dropdown-content">Çekirdek Seçimi</div>
        </div>
      </div>
    </header>
    <section class="sect1" id="bootdisk-howto_buildroot">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both">Bir kök dosya sisteminin oluşturulması</h2>
          </div>
        </div>
      </div>
      <p>
   Bir kök dosya sisteminin oluşturulması, sistemin çalışması için gerekecek dosyaları seçmeyi zorunlu kılar. Bu bölümde, sıkıştırılmış bir kök dosya sisteminin nasıl yapılacağını göreceğiz. <em class="wordasword">Sıkıştırılmış dosya sistemi</em>ni, doğrudan kök dosya sistemi olarak bağlanan bir disket üzerinde oluşturmanın daha az kullanılan bir diğer yöntemi <a class="xref" href="bootdisk-howto_misctopics.xhtml#bootdisk-howto_NonRamdiskRoot" title="Ramdisksiz kök dosya sistemleri"> “Ramdisksiz kök dosya sistemleri”</a> bölümünde anlatılmaktadır.
  </p>
      <section class="sect2" id="idm205">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title">Genel bakış</h3>
            </div>
          </div>
        </div>
        <p>
    Bir kök dosya sistemi, tam bir Linux sistemi desteklemek için gerekli olan herşeyi içermelidir. Bunu yapabilmek için, bu disket bir Linux sistemde gerekli olan asgari araçları içermelidir:
   </p>
        <div>
          <ul class="simplelist">
            <li class="member">temel dosya sistemi yapısını;</li>
            <li class="member">
     en azından şu dizinleri: <code class="filename">/dev</code>,
     <code class="filename">/proc</code>,
     <code class="filename">/bin</code>,
     <code class="filename">/etc</code>,
     <code class="filename">/lib</code>,
     <code class="filename">/usr</code>,
     <code class="filename">/tmp</code>;
    </li>
            <li class="member">
     temel araçları: <span class="command"><strong>sh, ls, cp, mv</strong></span>, vs.;
    </li>
            <li class="member">
     ayar dosyalarının en temel olanlarını: <code class="filename">rc, inittab, fstab</code>, vs.;
    </li>
            <li class="member">
     aygıtları: <code class="filename">/dev/hd*, /dev/tty*, /dev/fd0</code>, vs.;
    </li>
            <li class="member">
     araçlar tarafından kullanılan temel işlevleri sağlayan çalışma anı kütüphanelerini.
    </li>
          </ul>
        </div>
        <p>
    Elbette ki, herhangi bir sistem, üzerinde bir şeyler çalıştırabildiğimiz sürece işe yarardır. Bir kök disket aşağıdakileri veya bunlara benzer şeyleri yapabildiğiniz sürece bir anlam ifade eder:
   </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>
      Başka bir sürücüdeki dosya sistemini kontrol edebilmeli. Örneğin, sabit diskinizdeki kök dosya sistemini denetleyebilmeli, sistemi başka bir sürücüden açtıktan sonra, sizin orjinal kök bölümünüzü, bağlı değil iken, <span class="command"><strong>fsck</strong></span> ile denetlemenizi sağlamalı.
     </p>
            </li>
            <li class="listitem">
              <p>
      Arşivlenmiş ve/veya sıkıştırılmış orjinal kök dosya sisteminizin hepsini veya bir bölümünü <span class="command"><strong>cpio, gzip, tar</strong></span> veya <span class="command"><strong>ftape</strong></span> gibi araçlar kullanarak tekrar yükleyebilmeli.
     </p>
            </li>
          </ul>
        </div>
        <p>
    <em class="wordasword">Sıkıştırılmış dosya sistemi</em> yapmayı burada açıklayacağız. Bu isimle anılmasını sebebi, sıkıştırılmış olması ve önyükleme işlemi sonrası ramdisk içine açılmasıdır. Sıkıştırılmış dosya sistemi kullanarak 6MB'ye yakın veriyi tek bir 1440k'lık bir diskete sığdırmak mümkündür. Dosya sistemi tek bir disketin boyutunda daha büyük olduğu için, dosya sistemini disket üzerinde hazırlamak mümkün değildir. Bu nedenle, dosya sistemini başka bir yerde hazırlamalı, orada  sıkıştırıp daha sonra diskete kopyalamalıyız.
   </p>
      </section>
      <section class="sect2" id="bootdisk-howto_creatingrootfs">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title">Dosya sisteminin oluşturulması</h3>
            </div>
          </div>
        </div>
        <p>
    Bu tür bir kök dosya sistemi oluşturmak için, sıkıştırma öncesi bütün araç ve dosyaları içine alabilecek kadar büyük bir yere ihtiyacımız var. 4MB kadar kapasiteye sahip bir aygıta ihtiyacımız var. Bunun için çeşitli seçenekler mevcuttur:
   </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>
      Bir <em class="wordasword">ramdisk</em> (<code class="literal">AYGIT = /dev/ram0</code>) kullanın. Bu durumda, fiziksel bellek,  bir disk sürücü gibi kullanılır. Ramdiskimiz yeterince büyük olmalıdır. Şayet LILO kullanıyorsanız, RAM içinde yaratılacak ramdiskin boyutunu sınırlayan bir satır (<code class="literal">RAMDISK=nnn</code> gibi) olup olmadığını <code class="filename">/etc/lilo.conf</code> ayar dosyası içinden kontrol edin. Öntanımlı değer 4096K'dır ve bu yeterli olacaktır.  8MB'den daha küçük RAM'i olan bir makine üzerinde böyle bir ramdisk yapmaya kalkışmayın. <code class="filename">/dev/ram0, /dev/ram</code> veya <code class="filename">/dev/ramdisk</code>  gibi bir aygıta sahip olduğunuzdan emin olun. Şayet bu tür bir aygıt sisteminizde yok ise <span class="command"><strong>mknod</strong></span> kullanarak <code class="filename">/dev/ram0</code> aygıtını oluşturun (ana=1, alt=0). Aygıt dosyaları yapmak için  gerekli bilgiyi <span class="command"><strong>man mknod</strong></span>  veya <a class="xref" href="">???</a> içinde bulabilirsiniz.
     </p>
            </li>
            <li class="listitem">
              <p>
      Şayet yeterli boyutta kullanılmayan bir disk bölümüne sahipseniz, bu da kabul.
     </p>
            </li>
            <li class="listitem">
              <p>
      Bir <em class="wordasword">geridönüş aygıtı</em> kullanın. Bu aygıt ile, bir disk dosyasına bir aygıtmış gibi davranabilirsiniz. Bir geridönüş aygıtı kullanarak, sabit diskiniz üzerinde,  dosya sistemini yapmamıza yetecek kadar büyük bir dosya oluşturabilirsiniz (3MB civarı).
     </p>
              <p>
      Geridönüş aygıtlar hakkında bilgi almak için: <span class="command"><strong>man losetup</strong></span>. Şayet sisteminizde <span class="command"><strong>losetup</strong></span> yok ise, <span class="command"><strong>mount</strong></span> ve <span class="command"><strong>umount</strong></span> sürümleri ile uyumlu olarak <a class="link" href="ftp://ftp.win.tue.nl/pub/linux-local/utils/util-linux/" target="_top">ftp://ftp.win.tue.nl/pub/linux-local/utils/util-linux/</a> adresinden util-linux paketi içinde alabilirsiniz.
     </p>
              <p>
      Şayet sisteminizde bir dönüş aygıtı yok ise (<code class="filename">/dev/loop0</code>, <code class="filename">/dev/loop1</code>, vs.),  ``<span class="command"><strong>mknod /dev/loop0 b 7 0</strong></span>'' komutunu kullanarak bir tane oluşturmalısınız. Özel <span class="command"><strong>mount</strong></span> ve <span class="command"><strong>umount</strong></span> çalıştırılabilirlerini de yükledikten sonra, diskiniz üzerinde yeterli kapasiteye sahip geçici bir dosya oluşturun (örneğin <code class="filename">/tmp/fsfile</code>). <code class="varname">nnn</code> blokluk bir dosya oluşturmak için şu komutu kullanabilirsiniz:
     </p>
              <div class="para">
                <div align="right">
                  <pre class="screen">dd if=/dev/zero of=/tmp/fsfile bs=1k count=<code class="varname">nnn</code>
</pre>
                </div>
              </div>
              <p>
      Aşağıdaki <em class="replaceable"><code>aygıt</code></em> kelimesinin yerine dosya ismini koyun. Bağlama işlemi yapacağınız zaman, <span class="command"><strong>mount</strong></span> komutu ile birlikte <span class="command"><strong>-o loop</strong></span> seçeneğini kullanmanız gerekmektedir. Böylece <span class="command"><strong>mount</strong></span> uygulamasına bağlanacak şeyin bir dönüş aygıt olduğu bildirilmiş olur.
<a id="idm278" class="indexterm"/>
     </p>
            </li>
          </ul>
        </div>
        <p>
    Bu seçeneklerden birisini seçtikten sonra <em class="replaceable"><code>aygıt</code></em>'ı hazırlayın:
   </p>
        <div class="para">
          <div align="right">
            <pre class="screen">dd if=/dev/zero of=<em class="replaceable"><code>aygıt</code></em> bs=1k count=4096
</pre>
          </div>
        </div>
        <p>
    Bu komut aygıtı sıfırlarla doldurur.
   </p>
        <div class="important">
          <h3 class="title">Önemli</h3>
          <p>
     Bir aygıtın sıfırlarla doldurulması, dosya sistemi daha sonra sıkıştırılacağı için kritik bir öneme haizdir. Azami sıkıştırmayı sağlamak için kullanılmayan bütün bölümler sıfır ile doldurulmalıdır. Dosya sistemindeki bir dosyayı silerken veya taşırken bunu aklınızda bulundurun. Dosya sistemi blokları doğru bir şekilde tekrar yerleştirir <em class="emphasis">ama onları tekrar sıfırla doldurmaz</em>. Şayet sıklıkla silme ve kopyalama yapıyorsanız, sıkıştırılmış dosya sisteminiz ihtiyaç duyduğumuzdan daha büyük olabilir.
    </p>
        </div>
        <p>
    <a id="idm289" class="indexterm"/>
    Daha sonra dosya sistemini oluşturun. Linux çekirdeği, ramdiske özdevinimli olarak yüklenen,  iki çeşit dosya sistemi kabul eder. Bunlar minix ve ext2'dir. ext2'yi tercih etmenizi öneririz. Şayet ext2 kullanırsanız, öntanımlı değerden daha fazla dosya düğümü oluşturmak için kullanılan <code class="option">-N</code> seçeneğinin oldukça işe yarar olduğunu görürsünüz.  <code class="option">-N 2000</code> değerini kullanmanızı öneririm. Böylece dosya düğümü sıkıntısı yaşamazsınız. Ayrıca olarak, gereksiz <code class="filename">/dev</code> dosyalarını silerek de dosya düğümü tasarrufu sağlanabilir.  <span class="command"><strong>mke2fs</strong></span>, öntanımlı olarak 1.44MB'lik bir diskette 360 adet dosya düğümü oluşturur.  Benim yaptığım kök diskette 120 tane dosya düğümü yeterli olmuştu. Eğer <code class="filename">/dev</code> içindeki bütün aygıtları eklemeye niyetiniz varsa, rahatlıkla 360 düğüm sınırını geçebilirsiniz. Sıkıştırılmış bir dosya sistemi kullanmak, daha büyük bir dosya sistemine ve daha çok düğüme izin verir fakat hala ya düğüm sayısını artırmanız ya da kullandığınız dosya sayısını sınırlamanız gerekmektedir.
   </p>
        <p>
    Bu nedenle kullanacağımız komut şuna benzer olacaktır:
   </p>
        <div class="para">
          <div align="right">
            <pre class="screen">mke2fs -m 0 -N 2000 <em class="replaceable"><code>aygıt</code></em></pre>
          </div>
        </div>
        <p>
    (Şayet bir geridönüş aygıtı kullanıyorsanız, <em class="replaceable"><code>aygıt</code></em> yazan yerde kullandığınız dosyanın adı olmalıdır.)
   </p>
        <p>
    <span class="command"><strong>mke2fs</strong></span> kullanılabilir alanı kendiliğinden tespit eder ve gerekli ayarlamaları yapar.  ``<span class="command"><strong>-m 0</strong></span>''  parametresi  root kullanıcı için alan ayrılmasını önlemiş olur ve böylece diskette daha fazla alan bulunması sağlanmış olur.
   </p>
        <p>
    Daha sonra aygıtı bağlayın:
   </p>
        <div class="para">
          <div align="right">
            <pre class="screen">mount -t ext2 <em class="replaceable"><code>aygıt</code></em> /mnt</pre>
          </div>
        </div>
        <p>
    (Şayet <code class="filename">/mnt</code> bağlantı noktası sisteminizde yoksa, bunu oluşturmak zorundasınız.) Bölümün geri kalanında hedef dizin isimleri <code class="filename">/mnt</code>'ye göre ayarlanacaktır.
   </p>
      </section>
      <section class="sect2" id="bootdisk-howto_fsfill">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title">Dosya sisteminin doldurulması</h3>
            </div>
          </div>
        </div>
        <p>
    Kök dosya sisteminiz için gerekli olan mümkün en az sayıda dizin şunlardan oluşabilir<a href="#ftn.idm314" class="footnote"><sup class="footnote" id="idm314">[2]</sup></a>:
   </p>
        <div>
          <ul class="simplelist">
            <li class="member"><code class="filename">/dev</code> -- aygıt dosyaları, G/Ç'lar için gereklidir.
   </li>
            <li class="member"><code class="filename">/proc</code> -- proc dosya sistemi tarafından ihtiyaç duyulan dizin
   </li>
            <li class="member"><code class="filename">/etc</code> -- sistem yapılandırma dosyaları
   </li>
            <li class="member"><code class="filename">/sbin</code> -- Kritical sistem çalıştırılabilirler
   </li>
            <li class="member"><code class="filename">/bin</code> -- sistemin parçası olarak kabul edilen çalıştırılabilirler
   </li>
            <li class="member"><code class="filename">/lib</code> -- çalışma zamanı desteği sağlayan paylaşımlı kütüphaneler
   </li>
            <li class="member"><code class="filename">/mnt</code> -- diğer disklerdeki bakım/onarım işleri için bağlantı noktası
   </li>
            <li class="member"><code class="filename">/usr</code> -- ilave araçlar ve uygulamalar
   </li>
          </ul>
        </div>
        <p>
    Bu dizinlerden üç tanesi boş olacaktır, bu nedenle sadece <span class="command"><strong>mkdir</strong></span> kullanarak bunları oluşturmak yeterli olacaktır. <code class="filename">/proc</code> dizini, proc dosya sisteminin yerleştiği bir dizindir. <code class="filename">/mnt</code> ve <code class="filename">/usr</code> dizinleri, sistem çalıştıktan sonra kullanılacak bağlantı noktalarıdır.
   </p>
        <p>
    Geri kalan dizinler aşağıda ki bölümlerde açıklanmıştır.
   </p>
        <section class="sect3" id="bootdisk-howto_dev">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <code class="filename">/dev</code>
                </h4>
              </div>
            </div>
          </div>
          <a id="idm343" class="indexterm"/>
          <p>
     Bir Linux sistemi için gerekli olan bütün aygıtların dosyalarının bulunduğu bir dizindir. Dizinin kendisi normal bir dizindir ve <span class="command"><strong>mkdir</strong></span> komutu ile normal bir şekilde oluşturulabilir. Aygıt özel dosyaları ise, <span class="command"><strong>mknod</strong></span> komutu kullanılarak özel bir yöntemle oluşturulmalıdır.
    </p>
          <p>
     Aynı zamanda bu işi yapmanın kısa bir yolu da vardır: sabit diskinizdeki aygıt dosyalarını disketin <code class="filename">/dev</code> dizinine kopyalayabilirsiniz.  Bu işlem esnasında yapmanız gereken tek şey <code class="option">-R</code> seçeneğini kullanmaktır. Böylece, dizin içindeki dosyaların içerikleri kopyalanmadan sadece dizin kopyalanır. Örneğin:
    </p>
          <div class="para">
            <div align="right">
              <pre class="screen">cp -dpR /dev/fd[01]* /mnt/dev
cp -dpR /dev/tty[0-6] /mnt/dev
</pre>
            </div>
          </div>
          <p>
     Disketin <code class="filename">/mnt</code> dizinine bağlı olduğunu varsayarsak, <code class="literal">dp</code> seçenekleri sembolik bağların yine bağ olarak kopyalandığından, dosya özniteliklerinin korunduğundan ve iyelik bilgilerini saklandığından emin olmamızı sağlar.
    </p>
          <p>
     Şayet bu işi zor yoldan halletmek isterseniz, istediğiniz aygıtın ana ve alt numaralarını görebilmek için <span class="command"><strong>ls -l</strong></span>  komutunu kullanın. Daha sonra disket içerisinde <span class="command"><strong>mknod</strong></span>  komutunu kullanarak istediğiniz aygıtı oluşturun.
    </p>
          <p>
     Aygıt dosyalarını oluştururken, ihtiyaç duyduğunuz özel aygıtların, diskette bulunduğundan emin olun. Örneğin; <code class="literal">ftape</code> dosyasını, teyp aygıtları kullanır ve şayet disketi kullanarak teyp sürücünüze erişmek istiyorsanız, teyp aygıtı dosyasını oluşturmalısınız.
    </p>
          <p>
     Her bir özel aygıt için bir dosya düğümüne ihtiyacınız olduğunu ve disketlerde düğümlerin nadir bulunan değerli varlıklar olduğunu aklınızdan çıkarmayın. Öyle bol keseden dosya düğümü dağıtmayın. Ekleyeceğiniz aygıt dosyaları için seçici davranın. Şayet, sisteminizde SCSI diskler yok ise, <code class="literal">/dev/sd*</code> dosyalarını oluşturmayın. Seri portlardan iletişim sağlamayacaksanız, <code class="literal">/dev/ttyS*</code> aygıtlarına ihtiyacınız yok demektir.
    </p>
          <p>
     Şayet, kök dosya sisteminizi oluştururken: aygıt içinde yer kalmadığı şeklinde bir hata iletisi görürseniz ama <span class="command"><strong>df</strong></span> komutunun çıktısı aygıtta yer olduğunu gösterirse, elinizdeki dosya düğümlerini bitirmişsiniz demektir. <span class="command"><strong>df -i</strong></span>  komutu ile düğüm kullanım durumunu görebilirsiniz.
    </p>
          <div class="important">
            <h3 class="title">Önemli</h3>
            <p>
      Şu dosyaların bu dizin içinde bulunduğunda emin olun:
      <code class="filename">console</code>, <code class="filename">kmem</code>, <code class="filename">mem</code>, <code class="filename">null</code>,
      <code class="filename">ram0</code> ve <code class="filename">tty1</code>.
     </p>
          </div>
        </section>
        <section class="sect3" id="idm375">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <code class="filename">/etc</code>
                </h4>
              </div>
            </div>
          </div>
          <p>
     <a id="idm379" class="indexterm"/>
     <code class="filename">/etc</code> dizini sistem yapılandırma dosyalarını barındırır. İçeriği, hangi süreçlerin çalıştıracağınıza bağlı olarak değişir. Pek çok sistemde, bunlar, üç gruba ayrılır:
    </p>
          <div class="orderedlist">
            <ol class="orderedlist" type="1">
              <li class="listitem">
                <p>
       Herzaman gerekli olanlar: <code class="filename">rc</code>,
       <code class="filename">fstab</code>, <code class="filename">passwd</code>, vs.
      </p>
              </li>
              <li class="listitem">
                <p>
       Gerekli olabilecek ama asla emin olamayacaklarınız.
      </p>
              </li>
              <li class="listitem">
                <p>
       ıvır zıvır.
      </p>
              </li>
            </ol>
          </div>
          <p>
     Gerekli olmayan dosyalar aşağıdaki komut ile tespit edilebilir:
    </p>
          <div class="para">
            <div align="right">
              <pre class="screen">ls -ltru</pre>
            </div>
          </div>
          <p>
     Bu komut ile en son ulaşılan tarihten itibaren ters sıralama ile, bir dosya listesi görüntülenir. Böylece hiç erişim sağlanmamış dosyalar varsa, bunları gönül rahatlığı içinde yok sayabilirsiniz.
    </p>
          <p>
     Benim kök disketimde, 15 taneden az ayar dosyam var. Böylece üç değişik türte dosya ile ilgilenmem gerekmekte ve yapmam gereken işler azalmakta:
    </p>
          <div class="orderedlist">
            <ol class="orderedlist" type="1">
              <li class="listitem">
                <p>
       önyükleme ve kök sistemi için mutlaka yapılandılmaları gerekenler:
      </p>
                <div class="orderedlist">
                  <ol class="orderedlist" type="a">
                    <li class="listitem">
                      <p>
         <code class="filename">rc.d/*</code> --  sistem başlatma ve çalışma seviyesi değiştirme betikleri
        </p>
                    </li>
                    <li class="listitem">
                      <p>
         <code class="filename">fstab</code> -- bağlanacak dosya sistemlerinin listesi
        </p>
                    </li>
                    <li class="listitem">
                      <p>
         <code class="filename">inittab</code> -- <span class="command"><strong>init</strong></span> süreci için parametreler, açılış sırasında çalıştırılan ilk süreçtir.
        </p>
                    </li>
                    <li class="listitem">
                      <p>
         <code class="filename">gettydefs</code> -- <span class="command"><strong>login</strong></span> süreci için parametreler, kullanıcının sisteme girişinde çalıştırılır.
        </p>
                    </li>
                  </ol>
                </div>
                <p>
       önyükleme ve kök sistemi için düzenlemem gerekenler:
      </p>
                <div class="orderedlist">
                  <ol class="orderedlist" type="a">
                    <li class="listitem">
                      <p>
        <code class="filename">passwd</code> -- kullanıcıların, ev dizinlerinin, vs. bilgilerin bulunduğu önemli bir liste.
       </p>
                    </li>
                    <li class="listitem">
                      <p>
        <code class="filename">group</code> --  kullanıcı grupları.
<a id="idm423" class="indexterm"/>
       </p>
                    </li>
                    <li class="listitem">
                      <p>
        <code class="filename">shadow</code> -- kullanıcıların parolaları. Bunu dahil etmek zorunda değilsiniz.
<a id="idm428" class="indexterm"/>
       </p>
                    </li>
                    <li class="listitem">
                      <p>
        <code class="filename">termcap</code> -- uçbirim yetenekleri veritabanı.
       </p>
                    </li>
                  </ol>
                </div>
                <p>
       Şayet güvenlik önemli ise <code class="filename">passwd</code> ve <code class="filename">shadow</code> dosyaları iyice budanmalı, kullanıcı parolalarının kopyalanması önlenmeli ve gereksiz girdiler çıkarılmalıdır. Böylece disketten açılış yaparken istenmeyen kullanıcı girişleri reddedilir.
      </p>
                <p>
       <a id="idm437" class="indexterm"/><a id="idm439" class="indexterm"/><code class="filename">passwd</code> dosyasında en azından <code class="literal">root</code> kullanıcının bulunduğundan emin olun. Şayet diğer kullanıcıların da bağlantı yapmasını isterseniz, ev dizinlerinin ve kabukların sistemde var olduğundan emin olun.
      </p>
                <p>
       <code class="filename">termcap</code>, uçbirim veritabanıdır ve yüzlerce kB'dır. Sizin önyükleme ve kök disketinizdeki sürümün, sadece işinize yarayacak olan uçbirimleri içerdiğinde emin olun: genellikle sadece <code class="literal">linux</code> veya <code class="literal">linux-console</code> girdisi yeterlidir.
      </p>
              </li>
              <li class="listitem">
                <p>
       Ve geriye kalanlar. O an çalışıyorlardı, bu yüzden onlara dokunmadım.
      </p>
              </li>
            </ol>
          </div>
          <p>
     Bunların haricinde, gerçekte ayarlamam gereken sadece iki dosya var ve onlarda hayret verici bir şekilde küçükler:
    </p>
          <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
              <li class="listitem">
                <p>
       <code class="filename">rc</code> şunları içermeli:
      </p>
                <div class="para">
                  <div align="right">
                    <pre class="programlisting">#!/bin/sh
/bin/mount -av
/bin/hostname Kangaroo
</pre>
                  </div>
                </div>
                <p>
       Çalıştırma izni olduğunda emin olun, tepesinde "#!" işareti bulunduğundan emin olun ve dosya isimlerinin doğru olduğundan da emin olun. Aslında  <span class="command"><strong>hostname</strong></span>'i çalıştırmanız gerekmemekte —yaparsanız hoş olur, yapmazsanız hiçbir şey olmaz.
      </p>
              </li>
              <li class="listitem">
                <p>
       <code class="filename">fstab</code> en azından şunları içermeli:
      </p>
                <div class="para">
                  <div align="right">
                    <pre class="programlisting">/dev/ram0       /               ext2    defaults
/dev/fd0        /               ext2    defaults
/proc           /proc           proc    defaults
</pre>
                  </div>
                </div>
                <p>
       <a id="idm463" class="indexterm"/>
       Çalışan sisteminizdeki <code class="filename">fstab</code> girdilerini buraya kopyalayabilirsiniz, fakat sabit diskinizdeki bölümleri özdevinimli olarak bağlamaya kalkışmayın. <code class="literal">noauto</code> anahtar kelimesini bunların yanında kullanmayı unutmayın.  Açılış disketini kullanmak zorunda kaldığınız durumlarda, sabit diskinizin kafası biraz karışmış olabilir.
      </p>
              </li>
            </ul>
          </div>
          <p>
     <code class="filename">inittab</code> içindeki <code class="literal">sysinit</code> satırı, <code class="filename">rc</code> veya hangi temel betik kullanılacak ise, ona göre düzenlenmelidir. Ayrıca seri portlar üzerindeki kullanıcıların bağlanamayacaklarından emin olmak isterseniz, sonlarında <code class="filename">ttys</code> veya <code class="filename">ttyS</code> aygıtları içeren bütün <code class="filename">getty</code> satırlarının başına yorum işareti "#" getirin. <code class="filename">tty</code> portlarına dokunmayın ki, konsoldan bağlanabilesiniz.
    </p>
          <p>
     <a id="idm477" class="indexterm"/>
     <a id="idm480" class="indexterm"/>
     <a id="idm483" class="indexterm"/>
     En küçük yapıda <code class="filename">inittab</code> dosyası şuna benzer:
    </p>
          <div class="para">
            <div align="right">
              <pre class="programlisting">id:2:initdefault:
si::sysinit:/etc/rc
1:2345:respawn:/sbin/getty 9600 tty1
2:23:respawn:/sbin/getty 9600 tty2
</pre>
            </div>
          </div>
          <p>
Bu <code class="filename">inittab</code> dosyası, sistemin değişik seviyelerde çalışabileceğini/başlatılabileceğini, çoklu kullanıcı kipine geçebileceğini, vs.. tanımlar. <code class="filename">inittab</code> içindeki isimleri dikkatlice kontrol edin. Şayet <code class="literal">init</code>, bu isimleri bulamazsa, sistem açılışı gerçekleşmez ve hatta bir hata iletisi bile alamayabilirsiniz.
    </p>
          <p>
     <a id="idm493" class="indexterm"/>
     Unutmayın ki bazı uygulamalar olmazsa olmazdır ve başka uygulamalar bunları yerlerini bilerek çağırdığından yerleri değiştirilemez. Örneğin; benim sisteminde, <code class="filename">/etc/shutdown</code>  <code class="filename">/etc/reboot</code>'u çalıştırdığından şayet <code class="filename">reboot</code>'u <code class="filename">/bin/reboot</code>'a taşırsam, bir <span class="command"><strong>shutdown</strong></span> komutu, <span class="command"><strong>reboot</strong></span>'u bulamayacağı için çalışmayacaktır.
    </p>
          <p>
     İşin geri kalan kısmı, <code class="filename">/etc</code> dizinindeki tüm metin dosyalarını ve gerekli olacağından emin olmasanız bile <code class="filename">/etc</code> dizinindeki bütün çalıştırılabilir dosyaları  kopyalamaktan ibarettir. Yardımcı olması açısından <a class="xref" href="bootdisk-howto_Listings.xhtml" title="C. Kök dosya sistemi listesi örneği">Ek C, <em>Kök dosya sistemi listesi örneği</em></a> içindeki örnek listeye göz atabilirsiniz.  Muhtemelen buradaki dosyalar yeterli olacaktır ama sistemler arası farklılıklar olduğu için, buradaki dosyaların, sizin sisteminizdekiler ile aynı olduğunda emin olamazsınız.  Emin olmanın tek yolu <code class="literal">inittab</code> ile başlamak ve daha nelerin gerektiğini bulmaktır.
    </p>
          <p>
     Pek çok sistem, değişik çalışma seviyelerine geçiş sağlayan kabuk betiklerini saklamak için  <code class="filename">/etc/rc.d/</code> dizinini kullanırlar. Asgari gereksinim tek bir <code class="filename">rc</code> betiğidir ama <code class="filename">inittab</code> ve <code class="filename">/etc/rc.d</code> dizinindekileri doğrudan diskete kopyalamak ve daha sonra bir disket ortamında işi olamayacak kabuk betiklerini temizlemek daha basit olabilir.
    </p>
        </section>
        <section class="sect3" id="idm511">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title"><code class="filename">/bin</code> ve <code class="filename">/sbin</code></h4>
              </div>
            </div>
          </div>
          <p>
     <a id="idm516" class="indexterm"/>
     <a id="idm519" class="indexterm"/>
     <code class="filename">/bin</code> dizini, temel işlemleri (<span class="command"><strong>ls</strong></span>, <span class="command"><strong>mv</strong></span>, <span class="command"><strong>cat</strong></span> ve <span class="command"><strong>dd</strong></span> gibi) yapmak için gerekli olan  ilave araçları saklamak için elverişli bir dizindir. <code class="filename">/bin</code> ve <code class="filename">/sbin</code> dizininde bulunması gereken dosyaların örnek bir listesi için <a class="xref" href="bootdisk-howto_Listings.xhtml" title="C. Kök dosya sistemi listesi örneği">Ek C, <em>Kök dosya sistemi listesi örneği</em></a> bölümüne bakınız. Yedekleri geri yüklemek için gereken araçların (<span class="command"><strong>cpio</strong></span>, <span class="command"><strong>tar</strong></span> ve <span class="command"><strong>gzip</strong></span> gibi) hiçbiri bu listede yoktur.  Çünkü ben bu araçları başka bir uygulama disketine yerleştirdim. Amacım önyüleme ve kök disketlerinde yer tasarrufu sağlamaktı.  Önyükleme ve kök disketinden açılış yapıldıktan sonra, bunların içindekiler ramdiske yüklenir ve disket sürücü başka disketler için boşalmış olur. Ben bu uygulama disketini genellikle <code class="filename">/usr</code> altına bağlarım.
    </p>
          <p>
     Uygulama disketi yapımı <a class="xref" href="bootdisk-howto_misctopics.xhtml#bootdisk-howto_UtilityDisk" title="Uygulamalar disketinin oluşturulması"> “Uygulamalar disketinin oluşturulması”</a> içinde anlatılmaktadır. Yedekleme yapmak için, yedekleme araçlarının aynı sürümdeki birer kopyasını kullanmak iyi bir fikir olacaktır. Bu sayede sizin yedeklerinizi okuyamayan araçların yeni sürümlerini yüklemek ile vakit kaybetmezsiniz. Sisteminizdeki yedekleri hangi araçlar ile yaratmış iseniz, aynı araçların aynı sürümlerini kullanarak bir uygulama disketi oluşturun.
<a id="idm536" class="indexterm"/>
<a id="idm539" class="indexterm"/>
<a id="idm542" class="indexterm"/>
<a id="idm545" class="indexterm"/>
<a id="idm548" class="indexterm"/>
    </p>
          <div class="important">
            <h3 class="title">Önemli</h3>
            <p>
      Şu uygulamaları yüklediğinizden emin olun: <span class="command"><strong>init</strong></span>, <span class="command"><strong>getty</strong></span> veya eşdeğeri, <span class="command"><strong>login</strong></span>, <span class="command"><strong>mount</strong></span>, rc betiklerini çalıştırabilecek bir kabuk ve <span class="command"><strong>sh</strong></span>'dan bu kabuğa bir bağ.
     </p>
          </div>
        </section>
        <section class="sect3" id="idm558">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <code class="filename">/lib</code>
                </h4>
              </div>
            </div>
          </div>
          <p>
     <a id="idm562" class="indexterm"/>
     <a id="idm564" class="indexterm"/>
     Bu dizine gerekli olacak paylaşımlı kütüphaneleri ve yükleyicileri koyabilirsiniz. Şayet paylaşımlı kütüphaneler <code class="filename">/lib</code> dizini altında bulunamazsa, sistem açılmayacaktır. Şayet şanslı iseniz, bunun sebebini söyleyen bir hata iletisi ile karşılaşabilirsiniz.
    </p>
          <p>
     <a id="idm568" class="indexterm"/>
     Hemen hemen bütün uygulamalar <code class="filename">libc</code> kütüphanesine ihtiyaç duyarlar; <code class="filename">libc.so.</code><code class="varname">N</code>: buradaki <code class="varname">N</code> geçerli sürüm numarası anlamına gelir.  <code class="filename">/lib</code> dizininizi kontrol edin. Tam sürüm adını taşıyan bir dosya ismine verilmiş olan sembolik bir bağ olarak bir <code class="filename">libc.so.</code><code class="varname">N</code> dosyası vardır:
    </p>
          <div class="para">
            <div align="right">
              <pre class="screen">#  ls -l /lib/libc*
-rwxr-xr-x   1 root     root      4016683 Apr 16 18:48 libc-2.1.1.so*
lrwxrwxrwx   1 root     root           13 Apr 10 12:25 libc.so.6 -&gt; libc-2.1.1.so*
</pre>
            </div>
          </div>
          <p>
     Bu durumda <code class="filename">libc-2.1.1.so</code>'yu kullanmamız gerekecektir.  Yüklemeniz gereken diğer kütüphaneleri bulmak için, yüklemeyi planladığınız çalıştırılabilirlerin bağımlılıklarını <span class="command"><strong>ldd</strong></span> ile kontrol ediniz.  Örnek:
    </p>
          <div class="para">
            <div align="right">
              <pre class="screen"># ldd /sbin/mke2fs
libext2fs.so.2 =&gt; /lib/libext2fs.so.2 (0x40014000)
libcom_err.so.2 =&gt; /lib/libcom_err.so.2 (0x40026000)
libuuid.so.1 =&gt; /lib/libuuid.so.1 (0x40028000)
libc.so.6 =&gt; /lib/libc.so.6 (0x4002c000)
/lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x40000000)
</pre>
            </div>
          </div>
          <p>
     Sağ tarafta bulunan bütün dosyalar gereklidir. Dosya bir sembolik bağ olabilir.
    </p>
          <p>
     Bazı kütüphanelerin oldukça büyük olduğunu ve kök dosya sisteminize sığmayabileceğini aklınızda bulundurun. Örneğin;  yukarıda listelenen <code class="filename">libc.so</code> yaklaşık olarak 4MB'dır. Kütüphaneleri kök dosya sisteminize kopyalarken, muhtemelen onları soymanız gerekecek. Ayrıntılar için <a class="xref" href="bootdisk-howto_slimfast.xhtml" title="Kök dosya sistemi boyutunun küçültülmesi"> “Kök dosya sistemi boyutunun küçültülmesi”</a>  bölümüne bakınız.
    </p>
          <p>
     <a id="idm588" class="indexterm"/>
     <code class="filename">/lib</code> içine, kütüphaneleri yükleyecek bir yükleyici de yerleştirmelisiniz. Yükleyici ya  <code class="filename">ld.so</code> (A.OUT kütüphaneleri içindir ve güncelliğini yitirmiştir) ya da <code class="filename">ld-linux.so</code> (ELF kütüphaneleri için) olmalıdır.  <span class="command"><strong>ldd</strong></span>'nin yeni sürümleri hangi yükleyiciye ihtiyacınız olduğunu söyleyecektir -yukarıdaki örnekte görülebileceği üzere- fakat eski sürümler bunu yapmazlar. Şayet hangisine ihtiyaç duyduğunuzdan emin değilseniz, kütüphane için <span class="command"><strong>file</strong></span> komutunu çalıştırın:
    </p>
          <div class="para">
            <div align="right">
              <pre class="screen"># file /lib/libc.so.4.7.2 /lib/libc.so.5.4.33 /lib/libc-2.1.1.so
/lib/libc.so.4.7.2: Linux/i386 demand-paged executable (QMAGIC), stripped
/lib/libc.so.5.4.33: ELF 32-bit LSB shared object, Intel 80386, version 1, stripped
/lib/libc-2.1.1.so: ELF 32-bit LSB shared object, Intel 80386, version 1, not stripped
</pre>
            </div>
          </div>
          <p>
     <code class="literal">QMAGIC</code>, <code class="literal">4.7.2</code>'nin A.OUT kütüphanesi olduğunu ve <code class="literal">4.7.2</code> ile <code class="literal">2.1.1</code>'in  ELF kütüphanesi olduğunu göstermektedir.
<a id="idm601" class="indexterm"/>
    </p>
          <p>
     Gereken yükleyici(ler)yi, kök dosya sisteminize kopyalayın. Kütüphaneler ve yükleyicileri, içerildikleri çalıştırılabilirlere karşı dikkatlice kontrol edilmelidir. Şayet çekirdek gereken bir kütüphaneyi yükleyemezse, herhangi bir hata verilmeksizin çekirdek askıda kalabilir. Alın başınıza bela.
    </p>
        </section>
      </section>
      <section class="sect2" id="bootdisk-howto_PAMandNSS">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title">PAM ve NSS'in sağlanması</h3>
            </div>
          </div>
        </div>
        <p>
    Sisteminiz, <span class="command"><strong>ldd</strong></span> ile görülemeyen çzdev,ml, yükelenen kütüphanelere ihtiyaç duyabilir. Şayet bunları sağlayamazsanız, sisteme bağlanma veya açılış disketini kullanma ile sorunlar yaşayabilirsiniz.
   </p>
        <section class="sect3" id="idm608">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">PAM (Pluggable Authentication Modules)</h4>
              </div>
              <div>
                <h5 class="subtitle">(Eklemlenebilen Kimlik Kanıtlama Modülleri)</h5>
              </div>
            </div>
          </div>
          <p>
     Şayet sisteminizde PAM kullanılıyor ise, açılışı disketinizde bunun için bazı hazırlıklar yapmalısınız. Kısaca tanımlamak gerekirse, PAM: kullanıcıları doğrulama ve onların servislere erişimini denetleyen gelişmiş bir modüler yöntemdir denebilir. Sisteminizde PAM kullanılıp kullanılmadığını anlamanın en kolay yolu, <span class="command"><strong>login</strong></span> çalıştırılabiliri üzerinde <span class="command"><strong>ldd</strong></span> komutunu kullanmaktır. Şayet çıktıda <code class="filename">libpam.so</code> var ise, PAM'e ihtiyacınız var demektir.
    </p>
          <p>
     Şans eseri, açılış disketleri için güvenlik bir sorun değildir: makinenize fiziksel erişimi olan bir kişi zaten istediği herşeyi yapabilir. Bu nedenle, kök dosya sisteminizde aşağıdakine benzer bir <code class="filename">/etc/pam.conf</code> dosyası oluşturup, PAM konusunu kapatabilirsiniz:
    </p>
          <div class="para">
            <div align="right">
              <pre class="programlisting">OTHER   auth       optional     /lib/security/pam_permit.so
OTHER   account    optional     /lib/security/pam_permit.so
OTHER   password   optional     /lib/security/pam_permit.so
OTHER   session    optional     /lib/security/pam_permit.so
</pre>
            </div>
          </div>
          <p>
     Ayrıca <code class="filename">/lib/security/pam_permit.so</code> dosyasını kendi kök dosya sisteminize kopyalayın.  Bu kütüphane sadece 8k'dır ve pek baş ağrıtmaz.
    </p>
          <p>
     Bu ayarlar, herhangi bir kimsenin sisteminizdeki servis ve dosyalara erişimize izin verir. Özel sebeplerden dolayı, güvenlik, açılış disketiniz için önemli ise, sabit diskinizdeki PAM ayar dosyalarının çoğunu veya hepsini kök dosya sisteminzie kopyalamak zorundasınız. PAM belgelerini dikkatlice okuyun ve <code class="filename">/lib/security</code> içindeki gerekli bütün kütüphaneleri kök dosya sisteminize kopyalayın.
    </p>
          <p>
     Ayrıca <code class="filename">/lib/libpam.so</code> dosyasını da önyükleme disketinize kopyalamak zorundasınız. Siz bunu zaten biliyorsunuz, <span class="command"><strong>ldd</strong></span> komutunu <code class="filename">/bin/login</code> üzerinde çalıştırdınız değil mi? Böylece bağımlılıkların neler olduğunu öğrenmiş oldunuz.
    </p>
        </section>
        <section class="sect3" id="idm626">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">NSS (İsim Servisi Değiştirici)</h4>
              </div>
              <div>
                <h5 class="subtitle">(Name Service Switch)</h5>
              </div>
            </div>
          </div>
          <p>
     Şayet glibc (nam-ı diğer libc6) kullanıyorsanız, isim servisleri için bazı düzenlemeler yapmalısınız yoksa sisteme bağlanamayabilirsiniz.   <code class="filename">/etc/nsswitch.conf</code> dosyası, çeşitli servisleri yürüten veritabanlarını kontrol eder. Şayet ağ üzerinden servislere erişimi düşünmüyorsanız (örneğin, DNS veya NIS aramaları), aşağıdakine benzer basit bir  <code class="filename">nsswitch.conf</code> dosyası hazırlamanız yeterli olacaktır:
    </p>
          <div class="para">
            <div align="right">
              <pre class="programlisting">passwd:     files
shadow:     files
group:      files
hosts:      files
services:   files
networks:   files
protocols:  files
rpc:        files
ethers:     files
netmasks:   files
bootparams: files
automount:  files
aliases:    files
netgroup:   files
publickey:  files
</pre>
            </div>
          </div>
          <p>
     Burada bütün servislerin sadece yerel dosyaları yürütülebileceği belirtilmiştir. Ayrıca <code class="filename">/lib/libnss_files.so.</code><code class="varname">X</code> dosyasını eklemeniz gerekmekte (burada <code class="varname">X</code> değeri glibc 2.0 için 1 ve  glibc 2.1 için 2'dir) eklemeniz gerekmekte. Bu kütüphane, dosya aramalarını gerçekleştirmek için özdevimli yüklenecektir.
    </p>
          <p>
     Şayet açılış disketiniz üzerinden ağa çıkmayı planlıyor iseniz,  daha ayrıntılı bir <code class="filename">nsswitch.conf</code> dosyası oluşturmanız gerekmekte. Tanımladığınız her bir <em class="replaceable"><code>servis</code></em> için bir  <code class="filename">/lib/libnss_</code><em class="replaceable"><code>service</code></em><code class="filename">.so.1</code>  dosyası eklemeniz gerekmektedir.
    </p>
        </section>
      </section>
      <section class="sect2" id="idm643">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title">Modüller</h3>
            </div>
          </div>
        </div>
        <p>
    <a id="idm646" class="indexterm"/>
    Şayet modüler yapıda bir çekirdeğe sahipseniz, açılış disketi ile açılış yapıldıktan sonra hangi modüllerin yüklenmesini istediğinizi tespit etmelisiniz. Şayet yedekleriniz teyp üzerinde ise <span class="command"><strong>ftape</strong></span> ve <span class="command"><strong>zftape</strong></span> modüllerinin yüklenmesini isteyebilirsiniz veya SCSI aygıtlarınız varsa SCSI modüllerinin yüklenmesini isteyebilirsiniz. Acil durumlarda ağa erişim istiyorsanız, PPP veya SLIP modüllerini yüklemeniz kuvvetle muhtemeldir.
   </p>
        <p>
    Bu modüller <code class="filename">/lib/modules</code> içinde yer alabilir. Ayrıca <span class="command"><strong>insmod</strong></span>, <span class="command"><strong>rmmod</strong></span> ve <span class="command"><strong>lsmod</strong></span>'u da eklemelisiniz. Özdevinimli yüklenmesini istediğiniz modüllere bağlı olarak <span class="command"><strong>modprobe</strong></span>, <span class="command"><strong>depmod</strong></span> ve <span class="command"><strong>swapout</strong></span>'u da ekleyebilirsiniz. Şayet <span class="command"><strong>kerneld</strong></span> kullanıyor iseniz, onu da  <code class="filename">/etc/conf.modules</code>'e ekleyin.
   </p>
        <p>
    Bunların yanında, modülleri kullanmanın temel faydası, kritik öneme haiz olmayan modülleri bir uygulama disketi içinde tutabilmenizdir. Bu sayede kök diskette daha çok alan size kalır.  Şayet pek çok değişik aygıt ile uğraşmanız  gerekecek ise;  bu yaklaşım, gömülü sürücülere sahip daha büyük bir çekirdek yapmayı tercih edilebilir kılar.
   </p>
        <div class="important">
          <h3 class="title">Önemli</h3>
          <p>
     Sıkıştırılımış bir ext2 dosya sisteminden açılış yapabilmek için ramdisk ve ext2 desteğini çekirdeğe gömülü olarak vermeniz gerekir. BUNLARI MODÜL OLARAK KULLANAMAZSINIZ.
    </p>
        </div>
      </section>
      <section class="sect2" id="idm663">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title">Son olarak bazı ayrıntılar</h3>
            </div>
          </div>
        </div>
        <p>
    Bazı sistem uygulamaları, mesela <span class="command"><strong>login</strong></span>, <code class="filename">/var/run/utmp</code> dosyası ve<code class="filename">/var/log</code> dizini yok ise şikayet edip dururlar. Bu nedenle şu komutları verin:
   </p>
        <div class="para">
          <div align="right">
            <pre class="screen"># mkdir -p /mnt/var/{log,run}
# touch /mnt/var/run/utmp
</pre>
          </div>
        </div>
        <p>
    En sonunda, gerekli bütün kütüphaneleri ayarladıktan sonra, kök dosya sistemindeki <code class="filename">/etc/ld.so.cache</code> dosyasını yeniden yapılandırmak için  <span class="command"><strong>ldconfig</strong></span> komutunu kullanın. Bunun şu şekilde yapabilirsiniz:
   </p>
        <div class="para">
          <div align="right">
            <pre class="screen"># ldconfig -r /mnt</pre>
          </div>
        </div>
        <a id="idm674" class="indexterm"/>
        <a id="idm677" class="indexterm"/>
      </section>
      <section class="sect2" id="bootdisk-howto_wrappingitup">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title">Paketleme</h3>
            </div>
          </div>
        </div>
        <p>
    Kök dosya sistemi inşaatını bitirdimize göre, onu sistemden ayıralım ve bir dosyaya kopyalayıp sıkıştıralım:
   </p>
        <div class="para">
          <div align="right">
            <pre class="screen"># umount /mnt
# dd if=<em class="replaceable"><code>aygıt</code></em> bs=1k | gzip -v9 &gt; rootfs.gz
</pre>
          </div>
        </div>
        <p>
    Bu işlemin sonunda <code class="filename">rootfs.gz</code> isimli bir dosyaya sahip olacaksınız.Bu sizin sıkıştırılmış dosya sisteminizdir. Bu dosyanın boyutunun diskete sığacağından emin olun. Şayet boyutu disket boyutundan büyük ise, geri dönmeli ve bazı dosyaları kaldırmalısınız. Kök dosya sistemini küçültmek hakkında bazı öneriler <a class="xref" href="bootdisk-howto_slimfast.xhtml" title="Kök dosya sistemi boyutunun küçültülmesi"> “Kök dosya sistemi boyutunun küçültülmesi”</a> bölümünde bulunabilir.
   </p>
      </section>
      <div class="footnotes">
        <br/>
        <hr class="footnote-hr"/>
        <div id="ftn.idm314" class="footnote">
          <p><a href="#idm314" class="para"><sup class="para">[2] </sup></a>Burada anlatılan dizin yapısı, sadece kök disket kullanımı içindir. Gerçek Linux Sistemleri hangi dosyanın nerede bulunacağının belirlendiği daha karmaşık ve daha disiplinli bir yapıya sahiptir:  <a class="link" href="http://www.pathname.com/fhs/2.0/fhs-toc.html" target="_top">Dosyasistemi Hiyerarşi Standardı</a>.</p>
        </div>
      </div>
    </section>
    <footer>
      <div class="footbar navbar">
        <div style="width:33%" class="dropup">
          <button type="button" class="dropbtn" onclick="window.location.assign('bootdisk-howto_bootproc.xhtml')">Önceki</button>
          <div class="dropup-content">Açılış disketleri ve önyükleme süreci</div>
        </div>
        <div style="width:34%" class="dropup">
          <button class="dropbtn">Yukarı</button>
          <div class="dropup-content">
            <button type="button" class="dropbtn" onclick="window.location.assign('/index.xhtml')">Baş Sayfa</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('/kitaplik/index.xhtml')">Kitaplık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('bootdisk-howto.xhtml')">Ana Başlık</button>
          </div>
        </div>
        <div style="width:33%" class="dropup">
          <button type="button" class="dropbtn" onclick="window.location.assign('bootdisk-howto_choosingkernel.xhtml')">Sonraki</button>
          <div class="dropup-content">Çekirdek Seçimi</div>
        </div>
      </div>
    </footer>
  </body>
</html>
