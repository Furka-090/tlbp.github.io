<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr" xml:lang="tr">
  <head>
    <title>24.3.1. Basit Sinyal İşleme</title>
    <meta name="generator" content="DocBook XSL Stylesheets V-special (derived from DocBook XSL v1.79.1 for Turkish Linux Documentation Project by Nilgün Belma Bugüner - nilgun (at) tlbp.org.tr)" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="/style/nav.css" />
    <link rel="icon" type="image/png" href="/images/belgeler-logo.png" />
    <meta name="robots" content="index, follow" />
  </head>
  <body>
    <header>
      <div class="navbar">
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Signal-Actions.html')">Önceki</button>
          <div class="dropdown-content">24.3. Sinyal Eylemlerinin Belirtilmesi</div>
        </div>
        <div style="width:34%" class="dropdown">
          <button class="dropbtn">Yukarı</button>
          <div class="dropdown-content">
            <button type="button" class="dropbtn" onclick="window.location.assign('/index.html')">Baş Sayfa</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('/KiTAPLIK/index.html')">Kitaplık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('glibc.html')">Ana Başlık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Signal-Actions.html')">Üst Başlık</button>
          </div>
        </div>
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Advanced-Signal-Handling.html')">Sonraki</button>
          <div class="dropdown-content">24.3.2. Gelişmiş Sinyal İşleme</div>
        </div>
      </div>
    </header>
    <section class="mainpage">
      <div class="crumbs">
        <p>  </p>
      </div>
      <section class="sect1" id="glibc-Basic-Signal-Handling">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">24.3.1. Basit Sinyal İşleme</h2>
            </div>
          </div>
        </div>
        <p>
    <span id="idm136863" class="indexterm"></span>
    <a href="glibc-Basic-Signal-Handling.html#glibc-fn-signal"><strong class="function"><code>signal</code></strong></a> işlevi, belirli bir sinyal için bir eylem oluşturmayı sağlayan basit bir arayüzdür. İşlevin ve bununla ilgili makroların bildirimleri <code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/signal.h;hb=HEAD" target="_top">signal.h</a></code> başlık dosyasında bulunur.
   </p>
        <div class="csynopsis"><div class="cstype">  veri türü</div>
    <span id="glibc-tp-sighandler_t" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/signal.h;hb=HEAD" target="_top">signal.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><strong><code class="function">sighandler_t</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
    
    <p>
     Sinyal işleyici işlevlerin veri türüdür. Sinyal işleyiciler sinyal numarasının belirtildiği tek bir bağımsız değişken alır ve dönüş türleri <code class="type">void</code>'dir. Böyle bir sinyal işleyici işlev şöyle tanımlanmalıdır:
    </p>
    <pre class="literallayout monospaced"><code class="code">void <em class="replaceable"><code>işleyici</code></em> (int <em class="replaceable"><code>sinyalnum</code></em>) { … }</code>
</pre>
    <p>
     Bu veri türünün ismi olan <code class="code">sighandler_t</code> GNU oluşumudur.
    </p>
   </div>
        <div class="csynopsis"><div class="cstype">      işlev</div>
    <span id="glibc-fn-signal" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/signal.h;hb=HEAD" target="_top">signal.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">sighandler_t </code><strong><code class="function">signal</code></strong></td><td style="vertical-align: text-top;"><strong><code>(</code></strong><code class="type">int </code><strong><code class="parameter">signum</code></strong><strong><code>, </code></strong><code class="type">sighandler_t </code><strong><code class="parameter">action</code></strong><strong><code>)</code></strong></td></tr></table></div>
    
    <div class="safety"><a class="xref" href="glibc-POSIX.html#glibc-POSIX-Safety-Concepts">Evresel Güvenilirlik:</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-mtsafe">MT-Safe</a> <a class="link" href="glibc-Other-Safety-Remarks.html#glibc-safety-sigintr">sigintr</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-assafe">AS-Safe</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-acsafe">AC-Safe</a>
    </div>
    <p>
     <code class="code">signal</code> işlevi <em class="parameter"><code>signum</code></em> sinyali için eylem olarak <em class="parameter"><code>action</code></em> eylemini oluşturur.
    </p>
    <p>
     İlk bağımsız değişken olan <em class="parameter"><code>signum</code></em>, denetlenecek davranışın karşılığı olan sinyaldir ve bir sinyal numarası olarak belirtilmelidir. Bir sinyal numarasını belirtirken sembolik sinyal isimlerinin kullanılması gerekir (bkz, <a class="xref" href="glibc-Standard-Signals.html" title="24.2. Standart Sinyaller"><em>Standart Sinyaller</em></a>). Doğrudan doğruya numara belirtilmemelidir, çünkü sinyallerin numaraları işletim sistemleri arasında değişiklik gösterebilir.
    </p>
    <p>
     İkinci bağımsız değişken olan <em class="parameter"><code>action</code></em> ise, <em class="parameter"><code>signum</code></em> sinyali için kullanılacak eylemi belirtmek için kullanılır. Bu aşağıdaki üçünden biri olabilir:
    </p>
    <dl><dt><em class="replaceable"><code>işleyici</code></em></dt><dd><p>
      Sinyal alındığında yapılacak eylemi gerçekleştirecek işlevin adresi belirtilir. Sinyalle tetiklenen işlevler hakkında daha ayrıntılı bilgi edinmek için bkz, <a class="xref" href="glibc-Defining-Handlers.html" title="24.4. Sinyal İşleyicilerin Tanımlanması"><em>Sinyal İşleyicilerin Tanımlanması</em></a>.
     </p></dd></dl>
    <div class="csynopsis"><div class="cstype">      makro</div>
     <span id="glibc-vr-SIG_DFL" class="indexterm"></span>
     <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td style="vertical-align: text-top;"><code class="type">sighandler_t </code><strong><code class="function">SIG_DFL</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
     <p>
      <code class="code">SIG_DFL</code> belli bir sinyal için varsayılan eylemin uygulanacağını belirtir. Çeşitli sinyaller için varsayılan eylemler  <a class="xref" href="glibc-Standard-Signals.html" title="24.2. Standart Sinyaller"><em>Standart Sinyaller</em></a> bölümünde bulunabilir.
     </p>
    </div>
    <div class="csynopsis"><div class="cstype">      makro</div>
     <span id="glibc-vr-SIG_IGN" class="indexterm"></span>
     <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td style="vertical-align: text-top;"><code class="type">sighandler_t </code><strong><code class="function">SIG_IGN</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
     <p>
      <code class="code">SIG_IGN</code> sinyalin yok sayılacağını belirtmek için kullanılır.
     </p>
     <p>
      Normalde yazılım birbiri ardınca gelen eylemlere ait sinyalleri ya da sonlandırma isteği olarak kullanılan sinyalleri yok saymamalıdır. <a href="glibc-Termination-Signals.html#glibc-vr-SIGKILL"><strong class="varname"><code>SIGKILL</code></strong></a> veya <a href="glibc-Job-Control-Signals.html#glibc-vr-SIGSTOP"><strong class="varname"><code>SIGSTOP</code></strong></a> sinyali asla yok sayılamaz. <a href="glibc-Program-Error-Signals.html#glibc-vr-SIGSEGV"><strong class="varname"><code>SIGSEGV</code></strong></a> benzeri bir sinyal yok sayılabilir, ama bir hatanın yok sayılması ve yazılımın çalışmasını sürdürmesi anlamlı olmaz. <a href="glibc-Termination-Signals.html#glibc-vr-SIGINT"><strong class="varname"><code>SIGINT</code></strong></a>, <a href="glibc-Termination-Signals.html#glibc-vr-SIGQUIT"><strong class="varname"><code>SIGQUIT</code></strong></a> ve <a href="glibc-Job-Control-Signals.html#glibc-vr-SIGTSTP"><strong class="varname"><code>SIGTSTP</code></strong></a> gibi kullanıcı isteğini belirten bir sinyali yok saymak pek dostça sayılmaz.
     </p>
     <p>
      Yazılımın belli bir bölümünde sinyallerin alınması istenmiyorsa sinyaller yok sayılmamalı, <a class="link" href="glibc-Blocking-Signals.html" title="24.7. Sinyallerin Engellenmesi">yalnızca engellenmelidir</a>.
     </p>
    </div>
    <p>
     Bir sinyal için <a href="glibc-Basic-Signal-Handling.html#glibc-vr-SIG_IGN"><strong class="varname"><code>SIG_IGN</code></strong></a> veya <a href="glibc-Basic-Signal-Handling.html#glibc-vr-SIG_DFL"><strong class="varname"><code>SIG_DFL</code></strong></a> belirtilirse ve varsayılan eylem sinyalin yok sayılması ise, bekleyen sinyallerden bu türde olanlar (engellenmeye çalışılsa bile) iptal edilir. Bekleyen bir sinyalin iptal edilmesi, hemen ardından başka bir eylem belirtilmedikçe ve bu tür sinyallerin engellenmemesi istenmedikçe, bunların asla alınmayacağı anlamına gelir.
    </p>
    <p>
     <code class="code">signal</code> işlevi, <em class="parameter"><code>signum</code></em> sinyali için evvelce belirtilmiş olan eylemle döner. Böylece, bu değer saklanabilir ve daha sonra <code class="code">signal</code> işlevi tekrar çağrılarak bu eylemin tekrar etkin olmasını sağlanabilir.
    </p>
    <p>
     Eğer <code class="code">signal</code> işlevi kendinden isteneni yerine getiremezse <a href="glibc-Basic-Signal-Handling.html#glibc-vr-SIG_ERR"><strong class="varname"><code>SIG_ERR</code></strong></a> ile döner. Bu işlev için tanımlanmış <a href="glibc-Checking-for-Errors.html#glibc-vr-errno"><strong class="varname"><code>errno</code></strong></a> değerleri:
    </p>
    <dl><dt><code class="code">EINVAL</code></dt><dd><p>
      Geçersiz <em class="parameter"><code>signum</code></em> belirtildi; ya da <a href="glibc-Termination-Signals.html#glibc-vr-SIGKILL"><strong class="varname"><code>SIGKILL</code></strong></a> veya <a href="glibc-Job-Control-Signals.html#glibc-vr-SIGSTOP"><strong class="varname"><code>SIGSTOP</code></strong></a> için sinyal işleyici oluşturulmaya ya da bunlar yok sayılmaya çalışıldı.
     </p></dd></dl>
   </div>
        <div class="admon note">
          <h3 class="admon-title">Uyumluluk Bilgisi</h3>
          <div class="admon-contents">
            <p>
     <a href="glibc-Basic-Signal-Handling.html#glibc-fn-signal"><strong class="function"><code>signal</code></strong></a> işlevi ile çalışırken saptanmış bir sorun için  BSD ve SVID sistemlerdeki davranış farkıdır. SVID sistemlerde sinyal işleyici sinyal alındıktan sonra kendiliğinden tekrar kurulur. BSD sistemlerde ise işleyici tekrar kurulmak zorundadır. GNU C Kütüphanesinde zaten BSD sürümü kullanılmaktadır. SVID sürümü kullanılmak istenirse, aşağıda anlatılan <a href="glibc-Basic-Signal-Handling.html#glibc-fn-sysv_signal"><strong class="function"><code>sysv_signal</code></strong></a> işlevi ya da bir makro seçici olan <a href="glibc-Feature-Test-Macros.html#glibc-vr_XOPEN_SOURCE"><strong class="varname"><code>_XOPEN_SOURCE</code></strong></a> kullanılabilir (bkz, <a class="xref" href="glibc-Feature-Test-Macros.html" title="1.4.4. Özellik Sınama Makroları">Özellik Sınama Makroları</a>). Uyumluluk sorunlarından kaçınmak için normalde bu işlevler kullanılmamalıdır. Bunlar yerine uyumluluk açısından bir sorun çıkarmayan <a href="glibc-Advanced-Signal-Handling.html#glibc-fn-sigaction"><strong class="function"><code>sigaction</code></strong></a> işlevini kullanmak daha iyidir.
    </p>
          </div>
        </div>
        <div class="example">
          <div class="example-title">Örnek: </div>
          <div class="example-contents">
            <p>
     Burada, bazı ölümcül sinyaller alındığında geçici dosyaları silen basit bir işleyici örneği yer almaktadır:
    </p>
            <pre class="screen">#include &lt;signal.h&gt;

void
termination_handler (int signum)
{
  struct temp_file *p;

  for (p = temp_file_list; p; p = p-&gt;next)
    unlink (p-&gt;name);
}

int
main (void)
{
  …
  if (signal (SIGINT, termination_handler) == SIG_IGN)
    signal (SIGINT, SIG_IGN);
  if (signal (SIGHUP, termination_handler) == SIG_IGN)
    signal (SIGHUP, SIG_IGN);
  if (signal (SIGTERM, termination_handler) == SIG_IGN)
    signal (SIGTERM, SIG_IGN);
  …
}
</pre>
            <p>
     Eğer belirtilen sinyal evvelce yok sayılmaya ayarlanmışsa bu kodun bu ayarı değiştirmediğine dikkat edilmelidir. Bu, iş denetimi yapmayan kabukların alt süreçleri başlatırken bazı sinyalleri çoğunlukla yok saymasından ve alt süreçler için buna riayet edilmesi önemli olduğundan dolayıdır.
    </p>
            <p>
     Yazılım hata sinyalleri veya <a href="glibc-Termination-Signals.html#glibc-vr-SIGQUIT"><strong class="varname"><code>SIGQUIT</code></strong></a> sinyali, hata ayıklamada bilgi sağlamak için (bellek dökümü almak için) tasarlandığından ve geçici dosyalar hata ayıklamak için faydalı bilgiler sağlayabileceğinden bu örnekte işleme sokulmamıştır.
    </p>
          </div>
        </div>
        <br class="example-break" />
        <div class="csynopsis"><div class="cstype">      işlev</div>
    <span id="glibc-fn-sysv_signal" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/signal.h;hb=HEAD" target="_top">signal.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">sighandler_t </code><strong><code class="function">sysv_signal</code></strong></td><td style="vertical-align: text-top;"><strong><code>(</code></strong><code class="type">int </code><strong><code class="parameter">signum</code></strong><strong><code>, </code></strong><code class="type">sighandler_t </code><strong><code class="parameter">action</code></strong><strong><code>)</code></strong></td></tr></table></div>
    
    <div class="safety"><a class="xref" href="glibc-POSIX.html#glibc-POSIX-Safety-Concepts">Evresel Güvenilirlik:</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-mtsafe">MT-Safe</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-assafe">AS-Safe</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-acsafe">AC-Safe</a>
    </div>
    <p>
     <code class="code">sysv_signal</code> işlevi, SVID sistemlerindeki standart <a href="glibc-Basic-Signal-Handling.html#glibc-fn-signal"><strong class="function"><code>signal</code></strong></a> işlevinin davranışını gereçekleştirmek için tasarlanmıştır. Bunun BSD sistemlerinden farkı, bir sinyalin alınmasının ardından işleyicinin kendiliğinden tekrar kurulmasıdır.
    </p>
    <div class="admon note"><h3 class="admon-title">Uyumluluk Bilgisi</h3><div class="admon-contents"><p>
      <a href="glibc-Basic-Signal-Handling.html#glibc-fn-signal"><strong class="function"><code>signal</code></strong></a> işlevi için yukarıda bahsedildiği gibi, bu işlevin kullanılmasından kaçınılmalı ve bunun yerine mümkünse <a href="glibc-Advanced-Signal-Handling.html#glibc-fn-sigaction"><strong class="function"><code>sigaction</code></strong></a> tercih edilmelidir.
     </p></div></div>
   </div>
        <div class="csynopsis"><div class="cstype">      işlev</div>
    <span id="glibc-fn-ssignal" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/signal.h;hb=HEAD" target="_top">signal.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">sighandler_t </code><strong><code class="function">ssignal</code></strong></td><td style="vertical-align: text-top;"><strong><code>(</code></strong><code class="type">int </code><strong><code class="parameter">signum</code></strong><strong><code>, </code></strong><code class="type">sighandler_t </code><strong><code class="parameter">action</code></strong><strong><code>)</code></strong></td></tr></table></div>
    
    <div class="safety"><a class="xref" href="glibc-POSIX.html#glibc-POSIX-Safety-Concepts">Evresel Güvenilirlik:</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-mtsafe">MT-Safe</a> <a class="link" href="glibc-Other-Safety-Remarks.html#glibc-safety-sigintr">sigintr</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-assafe">AS-Safe</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-acsafe">AC-Safe</a>
    </div>
    <p>
     <code class="code">ssignal</code> işlevi <a href="glibc-Basic-Signal-Handling.html#glibc-fn-signal"><strong class="function"><code>signal</code></strong></a> işlevinin yaptığını yapar; sadece SVID ile uyum için vardır.
    </p>
   </div>
        <div class="csynopsis"><div class="cstype">      makro</div>
    <span id="glibc-vr-SIG_ERR" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td style="vertical-align: text-top;"><code class="type">sighandler_t </code><strong><code class="function">SIG_ERR</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
    <p>
     Bu makronun değeri, <a href="glibc-Basic-Signal-Handling.html#glibc-fn-signal"><strong class="function"><code>signal</code></strong></a> işlevinin dönüş değeri olarak kullanılır ve hata oluştuğunu belirtir.
    </p>
   </div>
      </section>
      <footer>
        <div align="center" class="footer">
          <small>Bir <a href="http://belgeler.org.tr/">Linux Kitaplığı</a> Sayfası</small>
        </div>
      </footer>
    </section>
  </body>
</html>
