<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr" xml:lang="tr">
  <head>
    <title>13.14. Dosya Tanıtıcı Kimliği Seçenekleri</title>
    <link rel="stylesheet" type="text/css" href="../../style/nav.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V-special (derived from DocBook XSL v1.79.1 for Turkish Linux Documentation Project by Nilgün Belma Bugüner - nilgun (at) tlbp.org.tr)" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/images/belgeler-logo.png" />
    <meta name="robots" content="index, follow" />
  </head>
  <body>
    <header>
      <div class="navbar">
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Duplicating-Descriptors.html')">Önceki</button>
          <div class="dropdown-content">13.13. Tanıtıcı Kimliklerinin Çoğaltılması</div>
        </div>
        <div style="width:34%" class="dropdown">
          <button class="dropbtn">Yukarı</button>
          <div class="dropdown-content">
            <button type="button" class="dropbtn" onclick="window.location.assign('/index.html')">Baş Sayfa</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('/KiTAPLIK/index.html')">Kitaplık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('glibc.html')">Ana Başlık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Low-Level-I-O.html')">Üst Başlık</button>
          </div>
        </div>
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('glibc-File-Status-Flags.html')">Sonraki</button>
          <div class="dropdown-content">13.15. Dosya Durum Seçenekleri</div>
        </div>
      </div>
    </header>
    <section class="mainpage">
      <div class="crumbs">
        <p>  </p>
      </div>
      <section class="chapter" id="glibc-Descriptor-Flags">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title">13.14. Dosya Tanıtıcı Kimliği Seçenekleri</h2>
            </div>
          </div>
        </div>
        <p>
   <span id="idm116299" class="indexterm"></span>
   <em class="firstterm">Dosya tanıtıcı kimliği seçenekleri</em> bir dosya tanıtıcı kimliğinin çeşitli öznitelikleridir. Bu seçenekler her dosya tanıtıcı kimliği için özeldir, yani tek bir dosya için bir dosya tanıtıcı kimliği kopyalanarak çoğaltılsa bile yeni dosya tanıtıcı kimliğinin seçeneklerinde yapılacak değişiklik özgün kimliği etkilemeyecektir.
  </p>
        <p>
   Şimdilik tek bir dosya tanıtıcı kimliği seçeneği vardır: <a href="glibc-Descriptor-Flags.html#glibc-vr-FD_CLOEXEC"><strong class="varname"><code>FD_CLOEXEC</code></strong></a>. Bu seçenek <a class="link" href="glibc-Executing-a-File.html" title="26.5. Bir Dosyanın Çalıştırılması"><span class="command"><strong>exec…</strong></span> işlevleri</a> kullanıldığında tanıtıcı kimliğinin kapanmasına sebep olur.
  </p>
        <p>
   <span id="idm116308" class="indexterm"></span>
   Bu kısımdaki simgeler <code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=io/fcntl.h;hb=HEAD" target="_top">fcntl.h</a></code> başlık dosyasında tanımlıdır.
  </p>
        <div class="csynopsis"><div class="cstype">      makro</div>
   <span id="glibc-vr-F_GETFD" class="indexterm"></span>
   <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=io/fcntl.h;hb=HEAD" target="_top">fcntl.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">int </code><strong><code class="function">F_GETFD</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
   
   <p>
    Bu makro <a href="glibc-Control-Operations.html#glibc-fn-fcntl"><strong class="function"><code>fcntl</code></strong></a> işlevinin <em class="parameter"><code>command</code></em> bağımsız değişkeninde kullanıldığında <em class="parameter"><code>filedes</code></em> ile ilişkili dosya tanıtıcı kimliği seçeneklerini döndürür.
   </p>
   <p>
    Bu komutun <a href="glibc-Control-Operations.html#glibc-fn-fcntl"><strong class="function"><code>fcntl</code></strong></a> işlevinden döndürdüğü değer,  seçeneklerin bit seviyesinde VEYA'lanarak yorumlandığı negatif olmayan bir sayıdır (seçenekler dense de şimdilik sadece bir seçenek var).
   </p>
   <p>
    Bir hata oluşmuşsa işlev <code class="code">-1</code> ile döner. Aşağıdaki <a href="glibc-Checking-for-Errors.html#glibc-vr-errno"><strong class="varname"><code>errno</code></strong></a> hata durumu bu komut için tanımlıdır:
   </p>
   <dl><dt><code class="code">EBADF</code></dt><dd><p>
     <em class="parameter"><code>filedes</code></em> kimliği geçersiz.
    </p></dd></dl>
  </div>
        <div class="csynopsis"><div class="cstype">      makro</div>
   <span id="glibc-vr-F_SETFD" class="indexterm"></span>
   <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=io/fcntl.h;hb=HEAD" target="_top">fcntl.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">int </code><strong><code class="function">F_SETFD</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
   
   <p>
    Bu makro <a href="glibc-Control-Operations.html#glibc-fn-fcntl"><strong class="function"><code>fcntl</code></strong></a> işlevinin <em class="parameter"><code>command</code></em> bağımsız değişkeninde <em class="parameter"><code>filedes</code></em> ile ilişkili dosya tanıtıcı kimliği seçeneklerini belirlemek için kullanılır. Bu komut yeni seçeneklerin belirtildiği <code class="type">int</code> türünde üçüncü bir bağımsız değişken gerektirir. Böyle bir çağrı şöyle yapılabilir:
   </p>
   <pre class="literallayout monospaced"><code class="code">fcntl (<em class="parameter"><code>tanıtıcı-kimliği</code></em>, F_SETFD, <em class="parameter"><code>yeni-seçenekler</code></em>)</code>
</pre>
   <p>
    Bu komutun <a href="glibc-Control-Operations.html#glibc-fn-fcntl"><strong class="function"><code>fcntl</code></strong></a> işlevinden döndürdüğü değer hata durumunu belirten <code class="code">-1</code> değeri dışında belirsizdir. Seçenekler ve hata durumları <a href="glibc-Descriptor-Flags.html#glibc-vr-F_GETFD"><strong class="varname"><code>F_GETFD</code></strong></a> komutundakilerle aynıdır.
   </p>
  </div>
        <p>
   Aşağıdaki makro <a href="glibc-Control-Operations.html#glibc-fn-fcntl"><strong class="function"><code>fcntl</code></strong></a> işlevinde bir dosya tanıtıcı kimliği seçeneği olarak kullanılmak üzere tanımlanmıştır. Değeri bit maskesi değeri olarak kullanılabilecek bir tamsayı sabittir.
  </p>
        <div class="csynopsis"><div class="cstype">      makro</div>
   <span id="glibc-cp-FD_CLOEXEC" class="indexterm"></span>
   <span id="glibc-vr-FD_CLOEXEC" class="indexterm"></span>
   <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=io/fcntl.h;hb=HEAD" target="_top">fcntl.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">int </code><strong><code class="function">FD_CLOEXEC</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
   
   <p>
    Bu seçenek, bir <strong class="function"><code>exec</code></strong> işlevi çağrıldığında dosya tanıtıcı kimliğini kapatılacağını belirtmek için kullanılır; bkz. <a class="xref" href="glibc-Executing-a-File.html" title="26.5. Bir Dosyanın Çalıştırılması"><em>Bir Dosyanın Çalıştırılması</em></a>.  Bir dosya tanıtıcı kimiği bir <a href="glibc-Duplicating-Descriptors.html#glibc-fn-dup"><strong class="function"><code>dup</code></strong></a> işlevi ile tahsis edildiğinde, bu seçenek temizlenir. Böylece <strong class="function"><code>exec</code></strong> işlevi ile oluşturulan yeni süreç dosya tanıtıcı kimliğini miras alır.
   </p>
  </div>
        <p>
   Dosya tanıtıcı kimliği seçenekleri değiştirilmek istenirse, mevcut seçeneklerin <a href="glibc-Descriptor-Flags.html#glibc-vr-F_GETFD"><strong class="varname"><code>F_GETFD</code></strong></a> ile alınıp değerinin değiştirilmesi gerekir. Sadece burada açıklanan seçeneklerin var olduğu gibi bir kabul yapılmamalıdır; yazılım yıllar sonra daha fazla seçeneğin var olduğu bir sistem üzerinde de çalışabilmelidir.
  </p>
        <div class="example">
          <div class="example-title">Örnek: </div>
          <div class="example-contents">
            <p>
    Aşağıdaki işlev diğer seçeneklere dokunmadan sadece <code class="code">FD_CLOEXEC</code> seçeneği ile çalışır.
   </p>
            <pre class="screen">/* <em class="replaceable"><code>desc tanıtıcısına FD_CLOEXEC seçeneği,
  value sıfırdan farklıysa atanır, değilse temizlenir.
  Dönüş değeri hata yoksa 0, varsa -1 olur ve hata errno'ya atanır.</code></em> */

int
set_cloexec_flag (int desc, int value)
{
  int oldflags = fcntl (desc, F_GETFD, 0);
  /* <em class="replaceable"><code>Seçeneklerin okunması başarısız olursa,
     hata durmunun belirtip hemen dön.</code></em> */
  if (oldflags &lt; 0)
    return oldflags;
  /* <em class="replaceable"><code>Seçeneğin durumunu belirle.</code></em> */
  if (value != 0)
    oldflags |= FD_CLOEXEC;
  else
    oldflags &amp;= ~FD_CLOEXEC;
  /* <em class="replaceable"><code>Değiştirilen seçeneği dosya tanıtıcı kimliğne ata.</code></em> */
  return fcntl (desc, F_SETFD, oldflags);
}
</pre>
          </div>
        </div>
        <br class="example-break" />
      </section>
      <footer>
        <div align="center" class="footer">
          <small>Bir <a href="http://belgeler.org.tr/">Linux Kitaplığı</a> Sayfası</small>
        </div>
      </footer>
    </section>
  </body>
</html>
