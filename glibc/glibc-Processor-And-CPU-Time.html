<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr" xml:lang="tr">
  <head>
    <title>21.4. İşlemci Zamanı ve İşlemci Süresi</title>
    <meta name="generator" content="DocBook XSL Stylesheets V-special (derived from DocBook XSL v1.79.1 for Turkish Linux Documentation Project by Nilgün Belma Bugüner - nilgun (at) tlbp.org.tr)" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="/style/nav.css" />
    <link rel="icon" type="image/png" href="/images/belgeler-logo.png" />
    <meta name="robots" content="index, follow" />
  </head>
  <body>
    <header>
      <div class="navbar">
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Calculating-Elapsed-Time.html')">Önceki</button>
          <div class="dropdown-content">21.3. Sürenin Hesaplanması</div>
        </div>
        <div style="width:34%" class="dropdown">
          <button class="dropbtn">Yukarı</button>
          <div class="dropdown-content">
            <button type="button" class="dropbtn" onclick="window.location.assign('/index.html')">Baş Sayfa</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('/KiTAPLIK/index.html')">Kitaplık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('glibc.html')">Ana Başlık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Date-and-Time.html')">Üst Başlık</button>
          </div>
        </div>
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Calendar-Time.html')">Sonraki</button>
          <div class="dropdown-content">21.5. Takvim Zamanı</div>
        </div>
      </div>
    </header>
    <section class="mainpage">
      <div class="crumbs">
        <p>  </p>
      </div>
      <section class="chapter" id="glibc-Processor-And-CPU-Time">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title">21.4. İşlemci Zamanı ve İşlemci Süresi</h2>
            </div>
          </div>
        </div>
        <p>
   <span id="idm131435" class="indexterm"></span>
   <span id="idm131437" class="indexterm"></span>
   Bir yazılımı en iyilemek ya da verimliliğini ölçmek için, ne kadar işlemci zamanı kullanıldığını bilmek gerekir. Bunun için, mutlak zaman ve süreler kullanışsızdır, çünkü bir süreç işlemciyi kullanırken arada bazı G/Ç işlemlerini veya başka süreçleri bekleyebilir. Buna karşın, bu bölümdeki işlevler kullanılarak işlemci kullanımı ile ilgili bilgi alınabilir.
  </p>
        <p>
   İşlemci zamanı (bkz. <a class="xref" href="glibc-Time-Basics.html" title="21.1. Zaman Kavramları"><em>Zaman Kavramları</em></a>), <em class="wordasword">saat tıklama</em> sayısı olarak <a href="glibc-Time-Types.html#glibc-tp-clock_t"><strong class="type"><code>clock_t</code></strong></a> türünde bir veri olup bir sürecin belli bir olaydan bu yana işlemciyi etkin olarak kullandığı toplam süreyi verir. GNU sistemlerinde bu olay, sürecin oluşturulmasıdır. Genel olarak gelişigüzel olsa da olay, herhangi bir süreç için her zaman aynı olaydır, dolayısıyla hesaplamadan önce ve sonra sürecin işlemci süresini inceleyerek bu hesaplamanın işlemcide ne kadar zaman aldığı her zaman ölçülebilir.
  </p>
        <p>
   GNU/Linux ve GNU/Hurd sistemlerinde, <a href="glibc-Time-Types.html#glibc-tp-clock_t"><strong class="type"><code>clock_t</code></strong></a> ile <code class="type">long int</code> eşdeğerdir ve <a href="glibc-Processor-And-CPU-Time.html#glibc-vr-CLOCKS_PER_SEC"><strong class="varname"><code>CLOCKS_PER_SEC</code></strong></a>  tamsayıdır. Fakat diğer sistemlerde, <a href="glibc-Time-Types.html#glibc-tp-clock_t"><strong class="type"><code>clock_t</code></strong></a> ve <a href="glibc-Processor-And-CPU-Time.html#glibc-vr-CLOCKS_PER_SEC"><strong class="varname"><code>CLOCKS_PER_SEC</code></strong></a> birer tamsayı ya da birer kayan noktalı sayı olabilir. Önceki bölümdeki örnekte olduğu gibi, işlemci zamanı değerlerinin <code class="type">double</code> türe dönüştürülmesi, aritmetik ve gösterim işlemlerinin düzgün olarak yapılmasını sağlarken sistemlerin olası farklı türlerdeki gösterimlerinden de etkilenmemesini sağlar.
  </p>
        <p>
   Saat tıklama sayısının, sayı türlerinin genişliklerine bağlı olarak belli bir sınırı olduğunu unutulmamalıdır. <a href="glibc-Processor-And-CPU-Time.html#glibc-vr-CLOCKS_PER_SEC"><strong class="varname"><code>CLOCKS_PER_SEC</code></strong></a> için bir milyon atanan 32 bitlik bir sistemde bu işlev yaklaşık 72 dakikada bir aynı değeri döndürecektir.
  </p>
        <p>
   Bir sürecin kullandığı işlemci süresini incelemek ve denetlemek için de işlevler vardır, bunlar hakkında <a class="xref" href="glibc-Resource-Usage-And-Limitation.html" title="22. Kaynak Kullanımı ve Sınırlar">Kaynak Kullanımı ve Sınırlar</a> bölümünde bilgi verilmiştir.
  </p>
        <section class="sect1" id="glibc-CPU-Time">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both">21.4.1. İşlemci Zamanının Sorgulanması</h2>
              </div>
            </div>
          </div>
          <p>
    Bir sürecin işlemci zamanını almak için <a href="glibc-Processor-And-CPU-Time.html#glibc-fn-clock"><strong class="function"><code>clock</code></strong></a> işlevi kullanılabilir. Bu işlev <code class="filename"><a class="filename" href="https://git.musl-libc.org/cgit/musl/tree/include/time.h" target="_top">time.h</a></code> başlık dosyasında bildirilmiştir.
    <span id="idm131461" class="indexterm"></span>
   </p>
          <p>
    Genel olarak, <a href="glibc-Processor-And-CPU-Time.html#glibc-fn-clock"><strong class="function"><code>clock</code></strong></a> işlevi ilgilenilen zaman aralığının başında ve sonunda çağrılır ve bu değerler birbirinden çıkarılıp sonuç <a href="glibc-Processor-And-CPU-Time.html#glibc-vr-CLOCKS_PER_SEC"><strong class="varname"><code>CLOCKS_PER_SEC</code></strong></a> ile bölünerek işlemci süresi aşağıdaki gibi elde edilir:
   </p>
          <pre class="screen">#include &lt;time.h&gt;

clock_t once, sonra;
double kullanilan_islemci_zamani;

once = clock();
… /* <em class="replaceable"><code>Burada bir takım işlemler yapılacak.</code></em> */
sonra = clock();
kullanilan_islemci_zamani = ((double) (sonra - once)) / CLOCKS_PER_SEC;
</pre>
          <p>
    Toplam süreyi hesaplarken tek bir işlemci zamanı kullanılmamalıdır. Ya yukarıdaki gibi bir çıkartma işlemi yapılmalı ya da doğrudan işlemci süresi sorgulanmalıdır. Bkz. <a class="xref" href="glibc-Processor-And-CPU-Time.html#glibc-Processor-Time" title="21.4.2. İşlemci Süresinin Sorgulanması">İşlemci Süresinin Sorgulanması</a>.
   </p>
          <p>
    Farklı makineler ve işletim sistemlerinde işlemci zamanı çözünürlüğü çılgınca değişir. Bunlarda, dahili işlemci zamanı çözünürlüğü saniyenin yüzde biri ile milyonda biri arasındadır.
   </p>
          <div class="csynopsis"><div class="cstype">      makro</div>
    <span id="glibc-vr-CLOCKS_PER_SEC" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://git.musl-libc.org/cgit/musl/tree/include/time.h" target="_top">time.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">int </code><strong><code class="function">CLOCKS_PER_SEC</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
    
    <p>
     Bu makronun değeri <a href="glibc-Processor-And-CPU-Time.html#glibc-fn-clock"><strong class="function"><code>clock</code></strong></a> işlevi tarafından ölçülen saniyedeki saat tıklama sayısını verir. POSIX standardı bu değerin gerçek çözünürlükten bağımsız olarak bir milyon olmasını gerektirir.
    </p>
   </div>
          <div class="csynopsis"><div class="cstype">      işlev</div>
    <span id="glibc-fn-clock" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://git.musl-libc.org/cgit/musl/tree/include/time.h" target="_top">time.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">clock_t </code><strong><code class="function">clock</code></strong></td><td style="vertical-align: text-top;"><strong><code>(</code></strong><code>void</code><strong><code>)</code></strong></td></tr></table></div>
    
    <div class="safety"><a class="xref" href="glibc-POSIX.html#glibc-POSIX-Safety-Concepts">Evresel Güvenilirlik:</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-mtsafe">MT-Safe</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-assafe">AS-Safe</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-acsafe">AC-Safe</a>
    </div>
    <p>
     Bu işlev çağrıldığı sürecin geçerli işlemci zamanı ile döner. İşlemci zamanı ölçülmüyorsa ya da gösterilemiyorsa, işlev <code class="code">(clock_t)(-1)</code> ile döner.
    </p>
   </div>
        </section>
        <section class="sect1" id="glibc-Processor-Time">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both">21.4.2. İşlemci Süresinin Sorgulanması</h2>
              </div>
            </div>
          </div>
          <p>
    <a href="glibc-Processor-And-CPU-Time.html#glibc-fn-times"><strong class="function"><code>times</code></strong></a> işlevi bir sürecin harcadığı işlemci süresi ile ilgili bilgileri, <a class="link" href="glibc-Time-Basics.html" title="21.1. Zaman Kavramları">işlemci zamanına</a> ek olarak <a href="glibc-Processor-And-CPU-Time.html#glibc-tp-tms"><strong class="type"><code>struct tms</code></strong></a> cinsinden bir nesne olarak döndürür. Bu oluşum  <code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/sys/times.h;hb=HEAD" target="_top">sys/times.h</a></code> başlık dosyasında bildirilmiştir.
    <span id="idm131511" class="indexterm"></span>
    <span id="idm131513" class="indexterm"></span>
    <span id="idm131515" class="indexterm"></span>
   </p>
          <div class="csynopsis"><div class="cstype">  veri türü</div>
    <span id="glibc-tp-tms" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/sys/times.h;hb=HEAD" target="_top">sys/times.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">struct </code><strong><code class="function">tms</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
    
    <p>
     <code class="code">struct tms</code> türü bir sürecin harcadığı işlemci süresi ile ilgili bilgileri döndürmek için kullanılır. En azından şu üyeleri içerir:
    </p>
    <div class="glosslist"><dl><dt><span class="glossterm">
       <code class="type">clock_t </code><strong class="structfield"><code>tms_utime</code></strong>
      </span></dt><dd class="glossdef"><p>
        Çağrıldığı sürecin çalıştırdığı işlemci komutlarının harcadığı toplam işlemci süresidir.
       </p></dd><dt><span class="glossterm">
       <code class="type">clock_t </code><strong class="structfield"><code>tms_stime</code></strong>
      </span></dt><dd class="glossdef"><p>
        "Sistem" tarafından süreç yararına harcanan işlemci süresidir.
       </p></dd><dt><span class="glossterm">
       <code class="type">clock_t </code><strong class="structfield"><code>tms_cutime</code></strong>
      </span></dt><dd class="glossdef"><p>
        Çağrıldığı sürecin sonlandırılmış alt süreçlerinin harcadığı <code class="code">tms_utime</code> ve <code class="code">tms_cutime</code> sürelerinin toplamıdır. Sonlandırılmış alt süreçlerin durumu sürece <a href="glibc-Process-Completion.html#glibc-fn-wait"><strong class="function"><code>wait</code></strong></a> veya <a href="glibc-Process-Completion.html#glibc-fn-waitpid"><strong class="function"><code>waitpid</code></strong></a> ile bildirildiğinden (bkz. <a class="xref" href="glibc-Process-Completion.html" title="26.6. Süreç Tamamlama"><em>Süreç Tamamlama</em></a>), bu değer <a href="glibc-Process-Completion.html#glibc-fn-wait"><strong class="function"><code>wait</code></strong></a> veya <a href="glibc-Process-Completion.html#glibc-fn-waitpid"><strong class="function"><code>waitpid</code></strong></a> ile bildirilmemiş süreleri içermez.
       </p></dd><dt><span class="glossterm">
       <code class="type">clock_t </code><strong class="structfield"><code>tms_cstime</code></strong>
      </span></dt><dd class="glossdef"><p>
        Çağrıldığı sürecin sonlandırılmış alt süreçleri yararına "sistemin" harcadığı işlemci süresini göstermesi dışında <code class="code">tms_cutime</code> gibidir.
       </p></dd></dl></div>
    <p>
     Tüm süreler saat tıklaması cinsinden verilmiştir. İşlemci zamanının tersine, bunlar herhangi bir olaya göreli değildir. Bkz, <a class="xref" href="glibc-Creating-a-Process.html" title="26.4. Bir Sürecin Oluşturulması"><em>Bir Sürecin Oluşturulması</em></a>.
    </p>
   </div>
          <div class="csynopsis"><div class="cstype">      makro</div>
    <span id="glibc-vr-CLK_TCK" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/sys/times.h;hb=HEAD" target="_top">sys/times.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">int </code><strong><code class="function">CLK_TCK</code></strong></td><td style="vertical-align: text-top;"></td></tr></table></div>
    
    <p>
     Saniyedeki saat tıklama sayısı için kullanılan eski isimdir. Yerine,
     <code class="code">sysconf (_SC_CLK_TCK)</code> kullanılmalıdır.
    </p>
   </div>
          <div class="csynopsis"><div class="cstype">      işlev</div>
    <span id="glibc-fn-times" class="indexterm"></span>
    <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=include/sys/times.h;hb=HEAD" target="_top">sys/times.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">clock_t </code><strong><code class="function">times</code></strong></td><td style="vertical-align: text-top;"><strong><code>(</code></strong><code class="type">struct tms </code><strong class="type">*</strong><strong><code class="parameter">buffer</code></strong><strong><code>)</code></strong></td></tr></table></div>
    
    <div class="safety"><a class="xref" href="glibc-POSIX.html#glibc-POSIX-Safety-Concepts">Evresel Güvenilirlik:</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-mtsafe">MT-Safe</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-assafe">AS-Safe</a>
      | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-acsafe">AC-Safe</a>
    </div>
    <p>
     <code class="code">times</code> işlevi kendisini çağıran sürecin işlemci süresi ile ilgili bilgileri <em class="parameter"><code>buffer</code></em> içinde saklar.
    </p>
    <p>
     İşlevin dönüş değeri, geçmişte keyfi bir noktadan (örn, sistem başlangıcından beri) bu yana saat tıklama sayısıdır. Başarısızlığı belirtmek için <code class="code">(clock_t)(-1)</code> değerini döndürür.
    </p>
   </div>
          <div class="admon note">
            <h3 class="admon-title">Taşınabilirlik Bilgisi</h3>
            <div class="admon-contents">
              <p>
     <a class="xref" href="glibc-Processor-And-CPU-Time.html#glibc-CPU-Time" title="21.4.1. İşlemci Zamanının Sorgulanması">İşlemci Zamanının Sorgulanması</a> bölümünde anlatılan <a href="glibc-Processor-And-CPU-Time.html#glibc-fn-clock"><strong class="function"><code>clock</code></strong></a> işlevi ISO C standardında belirtilmiştir. GNU sisteminde işlemci zamanı <a href="glibc-Processor-And-CPU-Time.html#glibc-fn-times"><strong class="function"><code>times</code></strong></a> tarafından döndürülen yapının <code class="code">tms_utime</code> ve <code class="code">tms_stime</code> alanlarındaki değerlerin toplamı olarak tanımlanmıştır.
    </p>
            </div>
          </div>
        </section>
      </section>
      <footer>
        <div align="center" class="footer">
          <small>Bir <a href="http://belgeler.org.tr/">Linux Kitaplığı</a> Sayfası</small>
        </div>
      </footer>
    </section>
  </body>
</html>
