<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr" xml:lang="tr">
  <head>
    <title>7.4. Yazılımlarda Yerelin Belirtilmesi</title>
    <link rel="stylesheet" type="text/css" href="../../style/nav.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V-special (derived from DocBook XSL v1.79.1 for Turkish Linux Documentation Project by Nilgün Belma Bugüner - nilgun (at) tlbp.org.tr)" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/images/belgeler-logo.png" />
  </head>
  <body>
    <header>
      <div class="navbar">
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Locale-Categories.html')">Önceki</button>
          <div class="dropdown-content">7.3. Yerellerin Etkilediği Eylemlerin Sınıflandırılması</div>
        </div>
        <div style="width:34%" class="dropdown">
          <button class="dropbtn">Yukarı</button>
          <div class="dropdown-content">
            <button type="button" class="dropbtn" onclick="window.location.assign('/index.html')">Baş Sayfa</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('/KiTAPLIK/index.html')">Kitaplık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('glibc.html')">Ana Başlık</button>
            <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Locales.html')">Üst Başlık</button>
          </div>
        </div>
        <div style="width:33%" class="dropdown">
          <button type="button" class="dropbtn" onclick="window.location.assign('glibc-Standard-Locales.html')">Sonraki</button>
          <div class="dropdown-content">7.5. Standart Yereller</div>
        </div>
      </div>
    </header>
    <section class="mainpage">
      <div class="crumbs">
        <p>  </p>
      </div>
      <section class="chapter" id="glibc-Setting-the-Locale">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title">7.4. Yazılımlarda Yerelin Belirtilmesi</h2>
            </div>
          </div>
        </div>
        <p>
   Bir C yazılımı yerele ilişkin ortam değişkenlerini başlatıldığında miras alır. Bu işlem kendiliğinden gerçekleşir. Ancak bu değişkenler kütüphane işlevlerinde kullanılan yereli belirtmez. Çünkü ISO C tüm yazılımların öntanımlı olarak standart <code class="code">C</code> yereli ile başlatılması gerektiğinden bahseder. Ortam tarafından belirtilen yerelleri kullanmak için şöyle bir <a href="glibc-Setting-the-Locale.html#glibc-fn-setlocale"><strong class="function"><code>setlocale</code></strong></a> çağrısının yapılması gerekir:
  </p>
        <pre class="literallayout monospaced">setlocale (LC_ALL, "");
</pre>
        <p>
   Bu çağrı ilgili ortam değişkenleri ile kullanıcı tarafından belirtilen uzlaşımların kütüphane tarafından gözönüne alınmasını sağlar.
  </p>
        <p>
   <a href="glibc-Setting-the-Locale.html#glibc-fn-setlocale"><strong class="function"><code>setlocale</code></strong></a> işlevi belli bir yerel sınıfını ya da genel amaçlı olarak belli bir yereli belirtmek için de kullanılabilir.
  </p>
        <p>
   Bu bölümde bahsedilen tüm simgeler <code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=locale/locale.h;hb=HEAD" target="_top">locale.h</a></code> başlık dosyasında tanımlanmıştır.
  </p>
        <div class="csynopsis"><div class="cstype">      işlev</div>
   <span id="glibc-fn-setlocale" class="indexterm"></span>
   <span id="glibc-cp-setlocale" class="indexterm"></span>
   <div class="csproto"><table border="0" class="csprototab" style="cellspacing: 0; cellpadding: 0;"><tr><td colspan="2"><code>#include &lt;</code><code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=locale/locale.h;hb=HEAD" target="_top">locale.h</a></code><code>&gt;</code></td></tr><tr><td style="vertical-align: text-top;"><code class="type">char </code><strong class="type">*</strong><strong><code class="function">setlocale</code></strong></td><td style="vertical-align: text-top;"><strong><code>(</code></strong><code class="type">int </code> <strong><code class="parameter">category</code></strong><strong><code>, </code></strong><code class="type">const char </code><strong class="type">*</strong><strong><code class="parameter">locale</code></strong><strong><code>)</code></strong></td></tr></table></div>
   
   <div class="safety"><a class="xref" href="glibc-POSIX.html#glibc-POSIX-Safety-Concepts">Evresel Güvenilirlik:</a>
     | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-mtunsafe">MT-Unsafe</a> <a class="link" href="glibc-Conditionally-Safe-Features.html#glibc-safety-const">const</a><code class="code"><a class="code" href="glibc-Other-Safety-Remarks.html#glibc-safety-identifier">:locale</a></code> <a class="link" href="glibc-Other-Safety-Remarks.html#glibc-safety-env">env</a>
     | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-asunsafe">AS-Unsafe</a> <a class="link" href="glibc-Conditionally-Safe-Features.html#glibc-safety-init">init</a> <a class="link" href="glibc-Unsafe-Features.html#glibc-safety-lock">lock</a> <a class="link" href="glibc-Unsafe-Features.html#glibc-safety-heap">heap</a> <a class="link" href="glibc-Unsafe-Features.html#glibc-safety-corrupt">corrupt</a>
     | <a class="link" href="glibc-POSIX-Safety-Concepts.html#glibc-cp-acunsafe">AC-Unsafe</a> <a class="link" href="glibc-Conditionally-Safe-Features.html#glibc-safety-init">init</a> <a class="link" href="glibc-Unsafe-Features.html#glibc-safety-corrupt">corrupt</a> <a class="link" href="glibc-Unsafe-Features.html#glibc-safety-lock">lock</a> <a class="link" href="glibc-Other-Safety-Remarks.html#glibc-safety-mem">mem</a> <a class="link" href="glibc-Other-Safety-Remarks.html#glibc-safety-fd">fd</a>
   </div>
   <p>
    <code class="code">setlocale</code> işlevi <em class="parameter"><code>locale</code></em> ile belirtilen yereli <em class="parameter"><code>category</code></em> sınıfı için geçerli yerel haline getirir.
   </p>
   <p>
    <em class="parameter"><code>category</code></em> için <a href="glibc-Locale-Categories.html#glibc-vr-LC_ALL"><strong class="varname"><code>LC_ALL</code></strong></a> değeri, tüm uzlaşımlar için tek bir yerelin belirtilmesini sağlar. Diğer <em class="parameter"><code>category</code></em> değerleri tek bir amaca uygun uzlaşımı belirtir (bkz. <a class="xref" href="glibc-Locale-Categories.html" title="7.3. Yerellerin Etkilediği Eylemlerin Sınıflandırılması"><em>Yerellerin Etkilediği Eylemlerin Sınıflandırılması</em></a>).
   </p>
   <p>
    Bu işlev ayrıca, <em class="parameter"><code>locale</code></em> bağımsız değişkeninde boş gösterici aktarılarak belirtilen yerel sınıfına atanmış değeri öğrenmek için de kullanılabilir. Bu durumda <code class="code">setlocale</code> işlevi, <em class="parameter"><code>category</code></em> sınıfı için seçilmiş olan yerelin ismini içeren bir dizge döndürür.
   </p>
   <p>
    <code class="code">setlocale</code> işlevi ile döndürülen bu dizge işlevin sonraki çağrıları ile değiştirilen yerel sınıfının bu ilk duruma getirilmesinde kullanılmak üzere saklanabilir (<a class="xref" href="glibc-Copying-Strings-and-Arrays.html" title="5.4. Dizilerin ve Dizgelerin Kopyalanması"><em>Dizilerin ve Dizgelerin Kopyalanması</em></a>). (Standart, kütüphanede kendiliğinden bir <code class="code">setlocale</code> çağrısının asla yapılmayacağını garanti eder.)
   </p>
   <p>
    <code class="code">setlocale</code> ile döndürülen dizgede değişiklik yapılmamalıdır. İlk duruma getirmek için yapılacak çağrıda kullanılacak dizge işlev tarafından döndürülen dizgenin aynısı olmak zorundadır. Ayrıca bu işlemi yaparken yerel dizgesinin alındığı sınıfa atanmasına da dikkat edilmelidir.
   </p>
   <p>
    Bu sorgu <a href="glibc-Locale-Categories.html#glibc-vr-LC_ALL"><strong class="varname"><code>LC_ALL</code></strong></a> makrosu için yapılırsa, dönen değer, tüm sınıflar için seçilmiş yerellerin birleşimi olacaktır. Bu durumda dönen değer tek bir yerel ismi içermeyebilir. Aslında değerin nasıl görüneceği ile ilgili bir önkabul yoktur. Ancak işlevin sonraki çağrısında <a href="glibc-Locale-Categories.html#glibc-vr-LC_ALL"><strong class="varname"><code>LC_ALL</code></strong></a> makrosu için aynı değer aktarılırsa, aynı yerel birleşimi elde edilir.
   </p>
   <p>
    Dönen dizgenin sonradan kullanmak üzere aynı kalması isteniyorsa dizgenin bir kopyası saklanmalıdır. Dönen göstericinin daima geçerli kalacağı garanti edilmemiştir.
   </p>
   <p>
    <em class="parameter"><code>locale</code></em> boş gösterici değilse, <code class="code">setlocale</code> tarafından döndürülen dizge sınıfa atanan yeni yerele ilişkin olacaktır.
   </p>
   <p>
    <em class="parameter"><code>locale</code></em> bağımsız değişkeninde boş dizge aktarılırsa, ilgili ortam değişkeni okunur ve değeri <em class="parameter"><code>category</code></em> için yereli seçmekte kullanılır.
   </p>
   <p>
    <em class="parameter"><code>locale</code></em> bağımsız değişkeninde boş olmayan bir dizge aktarıldığında, mümkünse yerel için bu değer kullanılır.
   </p>
   <p>
    Etkin yerel adı (<em class="parameter"><code>locale</code></em> değeri ya da <em class="parameter"><code>locale</code></em> boş dizgeyse sürecin ortamından elde edilen ad) geçerli bir yerel adı olmalıdır. Bkz. <a class="xref" href="glibc-Locale-Names.html" title="7.6. Yerel Adları"><em>Yerel Adları</em></a>
   </p>
   <p>
    Geçersiz bir yerel ismi belirtilirse, işlev boş gösterici döndürür ve geçerli yereli değiştirmez.
   </p>
  </div>
        <div class="example">
          <div class="example-title">Örnek: </div>
          <div class="example-contents">
            <p>
    Bu örnekte <a href="glibc-Setting-the-Locale.html#glibc-fn-setlocale"><strong class="function"><code>setlocale</code></strong></a> işlevinin başka bir yereli geçici olarak etkin kılmak için kullanılması gösterilmiştir:
   </p>
            <pre class="screen">#include &lt;stddef.h&gt;
#include &lt;locale.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

void
with_other_locale (char *new_locale,
                   void (*subroutine) (int),
                   int argument)
{
  char *old_locale, *saved_locale;

  /* <em class="replaceable"><code>Geçerli yereli al.</code></em>  */
  old_locale = setlocale (LC_ALL, NULL);

  /* <em class="replaceable"><code>setlocale çağrılarıyla bozulmadan önce ismi kaydet.</code></em> */
  saved_locale = strdup (old_locale);
  if (saved_locale == NULL)
    fatal ("Bellek yetersiz");

  /* <em class="replaceable"><code>Yereli değiştir ve onunla ilgili işlemleri yap.</code></em> */
  setlocale (LC_ALL, new_locale);
  (*subroutine) (argument);

  /* <em class="replaceable"><code>Yereli eski değerine getir.</code></em> */
  setlocale (LC_ALL, saved_locale);
  free (saved_locale);
}
</pre>
          </div>
        </div>
        <br class="example-break" />
        <div class="admon note">
          <h3 class="admon-title">Taşınabilirlik Bilgisi</h3>
          <div class="admon-contents">
            <p>
    Bazı C sistemleri ek yerel sınıfları tanımlayabilir; kütüphanenin ileri sürümleri bunları içerecektir. Taşınabilirlik için, <code class="code">LC_</code> ile başlayan bu ek simgelerin <code class="filename"><a class="filename" href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=locale/locale.h;hb=HEAD" target="_top">locale.h</a></code> başlık dosyasında tanımlanabileceği varsayılmalıdır.
   </p>
          </div>
        </div>
      </section>
      <footer>
        <div align="center" class="footer">
          <small>Bir <a href="http://belgeler.org.tr/">Linux Kitaplığı</a> Sayfası</small>
        </div>
      </footer>
    </section>
  </body>
</html>
